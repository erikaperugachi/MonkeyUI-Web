var monkeyUI=function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="monkeyui/dist/",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t,n,i;return t=Math.floor(e/60),n=e-60*t,i=t+":"+n}function r(e){var t,n=new Date(+e),i=n.getHours(),a=n.getMinutes();return 0==i?(t=" AM",i=12):12>i?t=" AM":12==i?t=" PM":i>12&&(t=" PM",i-=12),("0"+i).slice(-2)+":"+("0"+a).slice(-2)+t}function o(e){var t;return t=e.indexOf("G:")>=0?e.slice(0,1)+"\\"+e.slice(1):e}var s=n(1),l=i(s),u=n(2),c=i(u),d=n(3),p=i(d);n(4),n(6),n(8),n(18),n(19),n(26),window.MUIUser=l["default"],window.MUIConversation=c["default"],window.MUIMessage=p["default"];var f=n(28).MediaStreamRecorder;window.StereoRecorder=n(28).StereoRecorder;var h,m,g,v,y,b,w,x,C,A,k,F,T,_,I,S=n(29),E={},j={},D=!1,M={audio:!0},B=!1,L=0,N=new function(){function e(e,t){$("#w-max").click(function(){$(".wrapper-out").height(e),t&&!N.getLogin()?($("#w-min").removeClass("disappear"),$("#w-min").addClass("appear"),$("#w-max").removeClass("appear"),$("#w-max").addClass("disappear")):t||N.getLogin()?N.getLogin()&&N.disappearOptionsOutWindow():$(N).trigger("quickStart")}),$("#w-min").click(function(){$(".wrapper-out").height($(".tab").height()),$("#w-min").addClass("disappear"),$("#w-min").removeClass("appear"),$("#w-max").addClass("appear"),$("#w-max").removeClass("disappear")})}function t(){$("#w-min-in").click(function(){$(".wrapper-out").height($(".tab").height()),$(".tab").addClass("appear"),$(".tab").removeClass("disappear"),$("#w-min").addClass("disappear"),$("#w-min").removeClass("appear"),$("#w-max").addClass("appear"),$("#w-max").removeClass("disappear")})}function n(e){var t='<div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>';$(e).prepend(t)}function i(e){var t='<header id="session-header"><div id="session-image"><img src=""></div><div id="session-description"><span id="session-name"></span></div></header>';$(e).prepend(t)}function s(e,n){var i='<div id="app-intro"><div></div></div><header id="conversation-selected-header"><div id="conversation-selected-image"><img src=""></div><div id="conversation-selected-description"><span id="conversation-selected-name"></span><span id="conversation-selected-status"></span></div>';n!=ge&&n!=he||(i+='<div class="content-options"><div id="w-min-in"></div><div id="w-close"></div></div>'),i+='</header><div id="chat-timeline"></div>',$(e).append(i),t()}function l(){"https:"!=window.location.protocol&&H(!0)}function u(e,t){var n='<div id="chat-input"><div id="divider-chat-input"></div>';t.isAttachButton&&(n+='<div class="button-input"><button id="button-attach" class="button-icon"></button><input type="file" name="attach" id="attach-file" style="display:none" accept=".pdf,.xls,.xlsx,.doc,.docx,.ppt,.pptx, image/*"></div><div class="'+N.screen.data.mode+' jFiler-input-dragDrop"><div class="jFiler-input-inner"><div class="jFiler-input-icon"><i class="icon-jfi-cloud-up-o"></i></div><div class="jFiler-input-text"><h3>Drop files here</h3></div></div></div>'),t.isAudioButton&&(n+='<div class="button-input"><button id="button-cancel-audio" class="button-icon"></button></div>'),n+='<textarea id="message-text-input" class="textarea-input" placeholder="Write a secure message"></textarea>',t.isAudioButton&&(n+='<div id="record-area" class="disappear"><div class="record-preview-area"><div id="button-action-record"><button id="button-start-record" class="blink"></button></div><div id="time-recorder"><span id="minutes">00</span><span>:</span><span id="seconds">00</span></div></div></div>'),t.isSendButton&&(n+='<div class="button-input"><button id="button-send-message" class="button-icon"></button></div>'),t.isAudioButton&&(n+='<div class="button-input"><button id="button-record-audio" class="button-icon"></button></div>'),t.isEphemeralButton&&(n+='<div class="button-input"><button id="button-send-ephemeral" class="button-icon timer_icon"></button></div>'),n+="</div>",$(e).append(n),d()}function c(){L=0,clearInterval(y),g.innerHTML="00",v.innerHTML="00"}function d(){g=document.getElementById("minutes"),v=document.getElementById("seconds"),m=ue(),p()}function p(){$("#message-text-input").keydown(function(e){var t=window.event?e.which:e.keyCode;if(8==t||46==t)$("#button-send-message").is(":visible")&&$(this).val().trim().length<=1&&($("#button-record-audio").parent().removeClass("disappear"),$("#button-send-message").parent().addClass("disappear"),$("#button-send-ephemeral").removeClass("enable_timer"));else{if(13==t){if(e.shiftKey===!0)return!0;var n=$("#message-text-input").val().trim();return $(N).trigger("textMessage",n),$("#message-text-input").val(""),N.showChatInput(),!1}$("#button-send-message").is(":visible")||($("#button-record-audio").parent().addClass("disappear"),$("#button-send-message").parent().removeClass("disappear"),$("#button-send-ephemeral").addClass("enable_timer"),I=0)}}),$("#button-send-message").click(function(){switch(I){case 0:var e=$("#message-text-input").val().trim();$(N).trigger("textMessage",e),$("#message-text-input").val(""),N.showChatInput();break;case 1:null!=h&&h.stop(),j.duration=L,N.showChatInput(),se(),h=null;break;case 3:$("#attach-file").val(""),R(),$(N).trigger("imageMessage",E);break;case 4:$("#attach-file").val(""),R(),$(N).trigger("fileMessage",E)}}),$("#button-attach").click(function(){$("#attach-file").trigger("click")}),$("#attach-file").on("change",function(e){P(e.target.files[0])}),$("#button-record-audio").click(function(){O(),ne()}),$("#button-cancel-audio").click(function(){N.showChatInput();var e=document.getElementById("audio_"+_);null!=e&&e.pause(),h=null}),$("#attach-file").filer({limit:null,maxSize:null,extensions:null,changeInput:'<div class="chat-drop-zone" ></div>',showThumbs:!0,theme:"dragdropbox",dragDrop:{dragEnter:function(){console.log("file entered"),$(".jFiler-input-dragDrop").show()},dragLeave:function(){console.log("file entered"),$(".chat-drop-zone").hide(),$(".jFiler-input-dragDrop").hide()},drop:function(){console.log("file entered"),$(".chat-drop-zone").hide(),$(".jFiler-input-dragDrop").hide()}},files:null,addMore:!1,clipBoardPaste:!0,excludeName:null,beforeRender:null,afterRender:null,beforeShow:null,beforeSelect:null,onSelect:function(e){P(e)},afterShow:null,onEmpty:null,options:null,captions:{drop:"Drop file here to Upload"}})}function P(e){E.file=e,console.log(E.file),E.ext=pe(E.file);var t=de(E.file);return t>=1&&4>=t?(I=4,E.monkeyFileType=4,ee(),void 0):6==t?(I=3,E.monkeyFileType=3,void ee()):!1}function R(){I=-1,$("#chat-input").removeClass("chat-input-file"),$("#button-attach").parent().removeClass("disappear"),$("#button-record-audio").parent().removeClass("disappear"),$("#button-send-message").parent().addClass("disappear"),$("#button-send-ephemeral").removeClass("enable_timer")}function O(){$("#record-area").removeClass("disappear"),$("#record-area").addClass("appear"),$("#button-cancel-audio").parent().removeClass("disappear"),$("#button-attach").parent().addClass("disappear"),$("#button-send-message").parent().removeClass("disappear"),$("#button-record-audio").parent().addClass("disappear"),$("#message-text-input").addClass("disappear"),g=document.getElementById("minutes"),v=document.getElementById("seconds")}function H(e){$("#button-record-audio").disabled=e,e?$("#button-record-audio").parent().addClass("disabled"):$("#button-record-audio").parent().removeClass("disabled")}function U(e,t){var n=t?"disappear":"appear";$("#chat-timeline").append('<div class="chat-timeline-conversation '+n+'" id="chat-timeline-conversation-'+e+'"></div>')}function z(e,t){var n='<li id="conversation-'+t.id+'" class="conversation-unselected" onclick="openConversation(\''+t.id+'\')"><div class="conversation-image"><img src="'+t.urlAvatar+'" onerror="imgError(this);">',i=t.name?t.name:"undefined";n+='</div><div class="conversation-description"><div class="conversation-name"><span class="ellipsify">'+i+'</span></div><div class="conversation-state"><span class="ellipsify">Click to open conversation</span></div></div></li>',$(e).append(n)}function q(e,t){var n=$("#conversation-"+t);if(e.length>=20&&(e=e.substr(0,20)),n.find(".conversation-state span").html(e),W(t),currentConversationId!=t)if(n.find(".conversation-notification").length>0){var i=parseInt(n.find(".conversation-notification").first().find(".notification-amount").html());i+=1,n.find(".conversation-notification").first().find(".notification-amount").html(i)}else n.prepend('<div class="conversation-notification"><div class="notification-amount">1</div></div>');else X(t)}function W(e){var t=$("#conversation-"+e);t.find(".conversation-description span").addClass("bold-text")}function X(e){var t=$("conversation-"+e);t.find(".conversation-description span").removeClass("bold-text")}function G(e){switch(e){case 0:return"status-load";case 50:return"status-sent";case 51:return"status-sent";case 52:return"status-read";default:return}}function V(e,t,n,i){var a="",o=t?"bubble-out":"bubble-in",s=G(i);if(a='<div class="message-line"><div id="'+e.id+'" class="bubble '+o+'"><div class="message-detail">',n){var l=e.senderName?e.senderName:"Unknown",u=void 0==e.senderName?"user-unknown":"";a+='<span class="message-user-name '+u+'" style="color: #'+e.senderColor+'">'+l+"</span>"}return a+='<span class="message-hour">'+r(1e3*e.timestamp)+"</span>",t&&(a+='<div class="message-status '+s+'">',0!=i&&(a+='<i class="fa fa-check"></i>')),a+="</div></div></div>"}function Y(e,t,n){$("#chat-timeline").find(".appear").append(V(t,1,!1,0));var i="bubble-audio-out",a=$("#"+t.id);a.addClass("bubble-audio"),a.addClass(i);var r='<div class="content-audio-loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>';a.append(r),te()}function J(e,t){$("#play-player_"+e).knob({min:0,max:t,angleOffset:-133,angleArc:265,width:100,height:90,displayInput:!1,skin:"tron",change:function(e){w.currentTime=e}})}function Q(e){document.addEventListener("play",function(t){for(var n=document.getElementsByTagName("audio"),i=0,a=n.length;a>i;i++)n[i]!=t.target&&(n[i].pause(),$(".bubble-audio-button").hide(),$(".playBubbleControl").show(),$("#playAudioBubbleImg"+e).hide(),$("#pauseAudioBubbleImg"+e).show())},!0)}function K(e){w=document.getElementById("audio_"+e);var t=Math.round(w.duration);C=document.getElementById("minutesBubble"+e),A=document.getElementById("secondsBubble"+e),A.innerHTML=("0"+t%60).slice(-2),C.innerHTML=("0"+parseInt(t/60)).slice(-2)}function Z(e){var t=window.open("","my div","height=400,width=600");return t.document.write("<html><head><title>my div</title>"),t.document.write("</head><body >"),t.document.write(e),t.document.write("</body></html>"),t.document.close(),t.focus(),t.print(),t.close(),!0}function ee(){FileAPI.readAsDataURL(E.file,function(e){"load"==e.type&&(E.src=e.result,$("#button-send-message").click())})}function te(e){$("#chat-timeline").animate({scrollTop:1e8},400)}function ne(){null==h&&($("#button-send-ephemeral").addClass("enable_timer"),D?(ae(M),Q("")):(navigator.getUserMedia(M,ae,ie),D=!D))}function ie(e){console.error("media error",e)}function ae(e){I=1,h=new f(e),h.mimeType="audio/wav",h.audioChannels=1,h.ondataavailable=function(e){(new Date).getTime();j.blob=e,j.src=URL.createObjectURL(e)},y=setInterval(re,1e3),h.start(99999999999)}function re(){console.log(L),++L,v.innerHTML=("0"+L%60).slice(-2),g.innerHTML=("0"+parseInt(L/60)).slice(-2)}function oe(){T.pause(),clearInterval(refreshIntervalAudio)}function se(){null!=T&&oe(),k=Math.round((new Date).getTime()/1e3*-1),Y(j.src,{id:k,timestamp:Math.round((new Date).getTime()/1e3)},j.duration),H(!0),FileAPI.readAsArrayBuffer(j.blob,function(e){if("load"==e.type)le("audio_.wav",e.result);else if("progress"==e.type){e.loaded/e.total*100}})}function le(e,t){B&&(m.terminate(),m=ue()),B=!0;var n=(e.substr(e.lastIndexOf(".")+1),e.substr(0,e.lastIndexOf("."))+".mp3",[]);n.push("-i"),n.push(e),n.push("-b:a"),n.push("128k"),n.push("-acodec"),n.push("libmp3lame"),n.push("out.mp3"),m.postMessage({type:"command",arguments:n,files:[{name:e,buffer:t}]})}function ue(){var e=new S;return e.onmessage=function(e){var t=e.data;if("ready"===t.type&&window.File&&window.FileList&&window.FileReader);else if("stdout"==t.type);else if("stderr"==t.type);else if("done"==t.type){var n=t.data.code,i=Object.keys(t.data.outputFiles);if(0==n&&i.length){var a=i[0],r=t.data.outputFiles[a],o=new Blob([r]);ce(o)}else console.log("hubo un error")}},e}function ce(e){FileAPI.readAsDataURL(e,function(e){if("load"==e.type){H(!1);var t=e.result,n=t.split(","),i=n[1];j.src="data:audio/mpeg;base64,"+i,j.monkeyFileType=1,j.oldId=k,$(N).trigger("audioMessage",j)}else if("progress"==e.type){e.loaded/e.total*100}})}function de(e){var t=0,n=["doc","docx"],i=["pdf"],a=["xls","xlsx"],r=["ppt","pptx"],o=["jpe","jpeg","jpg","png","gif"],s=pe(e);return n.indexOf(s)>-1&&(t=1),a.indexOf(s)>-1&&(t=3),i.indexOf(s)>-1&&(t=2),r.indexOf(s)>-1&&(t=4),o.indexOf(s)>-1&&(t=6),t}function pe(e){var t=e.name.split("."),n=t[t.length-1];return n}function fe(e){if(void 0==e)return"";var t=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/i;e=e.replace(t,"<a href='$1' target='_blank'>$1</a>");var n=/(^|[^\/])(www\.[\S]+(\b|$))/gim;e=e.replace(n,'$1<a href="http://$2" target="_blank" >$2</a>');var i=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim;return e=e.replace(i,'<a href="mailto:$1" target="_blank">$1</a>')}this.wrapperOut=".wrapper-out",this.wrapperIn=".wrapper-in",this.contentConnection="#content-connection",this.contentApp="#content-app",this.contentConversationList="#conversation-list",this.contentConversationWindow="#conversation-window",this.contentIntroApp="#app-intro",this.user;var he,me="fullscreen",ge="classic",ve="fullsize",ye="partialsize",be="tab",we="standard",xe="knob";this.isConversationList=!0,this.input={},this.input.isAttachButton=!0,this.input.isAudioButton=!0,this.input.isSendButton=!0,this.input.isEphemeralButton=!0,this.screen={},this.screen.type=me,this.screen.data={},this.screen.data.mode=ve,this.screen.data.width=void 0,this.screen.data.height=void 0,this.screen.data.openButton=be,this.audio={},this.audio.type=xe,this.form=!1,this.login=!1,this.setChat=function(e){N.isConversationList=void 0==e.showConversationList?!0:e.showConversationList,void 0!=e.input?(N.input.isAttachButton=void 0==e.input.showAttachButton?!0:e.input.showAttachButton,N.input.isAudioButton=void 0==e.input.showAudioButton?!0:e.input.showAudioButton,N.input.isSendButton=void 0==e.input.showSendButton?!0:e.input.showSendButton,N.input.isEphemeralButton=void 0==e.input.showEphemeralButton?!1:e.input.showEphemeralButton):N.input.isEphemeralButton=!1,N.screen.type=void 0==e.screen.type?me:e.screen.type,N.screen.type==me?N.screen.data.mode=ve:N.screen.type==ge&&(N.screen.data.mode=ye,N.screen.data.width=e.screen.data.width,N.screen.data.height=e.screen.data.height,N.screen.data.openButton=void 0==e.screen.data.openButton?be:e.screen.data.openButton),N.screen.data.width=e.screen.data.width,N.screen.data.height=e.screen.data.height,N.audio.type=void 0==e.audio.type?we:e.audio.type,N.form=void 0==e.form?!1:e.form},this.drawScene=function(){if($(".wrapper-out").length<=0){var t="";t+=void 0!=this.screen.data.width&&void 0!=this.screen.data.height?'<div class="wrapper-out '+this.screen.data.mode+" "+this.screen.type+'" style="width: '+this.screen.data.width+'; height:30px;">':'<div class="wrapper-out '+this.screen.data.mode+" "+this.screen.type+'">',this.screen.type==ge?t+='<div class="tab"><span class="tablabel> Want to know more? </span><div id="w-max" class="appear"></div><div id="w-min" class="disappear"></div></div>':this.screen.type==he&&(t+='<div class="circle-icon"><div id="w-open" class="appear"></div></div>'),t+='<div class="wrapper-in"><div id="content-connection"></div><div id="content-app" class="disappear">',this.isConversationList&&(t+='<aside><ul id="conversation-list" class=""></ul></aside>');var a=this.isConversationList?"conversation-with":"conversation-only";t+='<section id="conversation-window" class="'+a+'"></section></div></div></div>',$("body").append(t),n(this.contentConnection)}else $(".wrapper-out").addClass(this.screen.data.mode);e(this.screen.data.height,this.form),i(this.contentApp+" aside"),s(this.contentConversationWindow,this.screen.type),u(this.contentConversationWindow,this.input),N.stopLoading()},this.disappearOptionsOutWindow=function(){$(".tab").addClass("disappear"),$(".wrapper-out").removeClass("classic")},this.getLogin=function(){return this.login},this.stopLoading=function(){$(this.contentConnection).removeClass("appear"),$(this.contentConnection).addClass("disappear")},this.startLoading=function(){$(this.contentConnection).removeClass("disappear"),$(this.contentConnection).addClass("appear")},this.loadDataScreen=function(e){this.user=e,l(),$(this.contentApp).removeClass("disappear"),$("#session-name").html(this.user.name),$("#session-image img").attr("src",this.user.urlAvatar)},this.showChatInput=function(){$("#button-action-record button").hide(),$("#button-action-record button").attr("onclick",""),$("#button-start-record").show(),$("#record-area").removeClass("appear"),$("#record-area").addClass("disappear"),$("#button-attach").parent().removeClass("disappear"),$("#button-cancel-audio").parent().addClass("disappear"),$("#button-record-audio").parent().removeClass("disappear"),$("#button-send-message").parent().addClass("disappear"),$("#button-record-audio").parent().removeClass("disappear"),$("#button-send-ephemeral").removeClass("enable_timer"),$("#minutes").html("00"),$("#seconds").html("00"),$("#message-text-input").removeClass("disappear"),c(),I=0},document.addEventListener("dragenter",function(e){console.log("over document"),$(document).find(".chat-drop-zone").show()}),this.drawConversation=function(e,t){var n=o(e.id);if(!t&&$(this.contentIntroApp).length>=0&&$(this.contentIntroApp).remove(),t)$("#chat-timeline-conversation-"+n).length<=0&&(U(e.id,t),this.isConversationList&&z(this.contentConversationList,e));else{$(this.contentConversationWindow).addClass("disabled"),$("#conversation-selected-image img").attr("src",e.urlAvatar);var i=e.name?e.name:"undefined";$("#conversation-selected-name").html(i),this.isConversationList&&($(this.contentConversationList+" li").removeClass("conversation-selected"),$(this.contentConversationList+" li").addClass("conversation-unselected"),$("#conversation-"+n).removeClass("conversation-unselected"),$("#conversation-"+n).addClass("conversation-selected"),$("#conversation-"+n).find(".conversation-notification").remove(),X(n)),$(".chat-timeline-conversation").removeClass("appear"),$(".chat-timeline-conversation").addClass("disappear"),$("#chat-timeline-conversation-"+n).length>0?($("#chat-timeline-conversation-"+n).removeClass("disappear"),$("#chat-timeline-conversation-"+n).addClass("appear"),te()):(U(e.id,t),this.isConversationList&&z(this.contentConversationList,e)),this.showChatInput(),$(this.contentConversationWindow).removeClass("disabled")}},this.updateDrawConversation=function(e){var t=$("#conversation-"+e.id);t.find("img").attr("src",e.urlAvatar),t.find(".conversation-name span").html(e.name)},this.updateOnlineStatus=function(e,t){0==t?(F=r(e),$("#conversation-selected-status").html("Last seen "+r(e))):(F="Online",$("#conversation-selected-status").html("Online"))},this.drawTextMessageBubble=function(e,t,n,i){var a=e.senderId==this.user.monkeyId?1:0,r=o(t),s=fe(e.text);$("#chat-timeline-conversation-"+r).append(V(e,a,n,i));var l=a?"bubble-text-out":"bubble-text-in",u=$("#"+e.id);u.addClass("bubble-text"),u.addClass(l);var c='<span class="message-text">'+s+"</span>";u.append(c),te(),1==e.eph?q("Private Message",r):q(e.text,r)},this.drawImageMessageBubble=function(e,t,n,i){var a=e.senderId==this.user.monkeyId?1:0,r=o(t),s=e.text,l=void 0!=e.dataSource?e.dataSource:"images/ukn.png";$("#chat-timeline-conversation-"+r).append(V(e,a,n,i));var u=a?"bubble-image-out":"bubble-image-in",c=$("#"+e.id);c.addClass("bubble-image"),c.addClass(u);var d='<div class="content-image" onclick="monkeyUI.showViewer(\''+e.id+"','"+s+"')\"><img src="+l+"></div>";c.append(d),te(),1==e.eph?q("Private Image",r):q("Image",r)},this.drawAudioMessageBubble=function(e,t,n,i,a){var r=e.senderId==this.user.monkeyId?1:0,s=o(t),l=e.dataSource,u=$("#"+a);if(u.length>0)u.attr("id",e.id),u.find(".content-audio-loading").remove(),u=$("#"+e.id);else{$("#chat-timeline-conversation-"+s).append(V(e,r,n,i));var c=r?"bubble-audio-out":"bubble-audio-in";u=$("#"+e.id),u.addClass("bubble-audio"),u.addClass(c)}if("knob"==this.audio.type){var d='<div class="content-audio disabled"><img id="playAudioBubbleImg'+e.id+'" style="display:block;" onclick="monkeyUI.playAudioBubble('+e.id+');" class="bubble-audio-button bubble-audio-button'+e.id+' playBubbleControl" src="../images/PlayBubble.png"><img id="pauseAudioBubbleImg'+e.id+'" onclick="monkeyUI.pauseAudioBubble('+e.id+');" class="bubble-audio-button bubble-audio-button'+e.id+'" src="../images/PauseBubble.png"><input id="play-player_'+e.id+'" class="knob second" data-width="100" data-displayPrevious=true value="0"><div class="bubble-audio-timer"><span id="minutesBubble'+e.id+'">00</span><span>:</span><span id="secondsBubble'+e.id+'">00</span></div></div><audio id="audio_'+e.id+'" preload="auto" style="display:none;" controls="" src="'+l+'"></audio>';u.append(d),J(e.id,Math.round(e.length)),w=document.getElementById("audio_"+e.id),w.oncanplay=function(){J(e.id,Math.round(w.duration)),K(e.id),$("#"+e.id+" .content-audio").removeClass("disabled")}}else{var d='<audio id="audio_'+e.id+'" preload="auto" controls="" src="'+l+'"></audio>';u.append(d)}te(),1==e.eph?q("Private Audio",s):q("Audio",s)},this.drawFileMessageBubble=function(e,t,n,i){var a=e.senderId==this.user.monkeyId?1:0,r=o(t),s=(e.text,void 0!=e.dataSource?e.dataSource:"");$("#chat-timeline-conversation-"+r).append(V(e,a,n,i));var l=a?"bubble-file-out":"bubble-file-in",u=$("#"+e.id);u.addClass("bubble-file"),u.addClass(l);var c='<div class="content-file"><a class="file-icon-link" href="'+s+'" download="'+e.filename+'" >';c+="doc"==e.ext||"docx"==e.ext?'<div class="file-icon-define icon-word"></div>':"pdf"==e.ext?'<div class="file-icon-define icon-pdf"></div>':"xls"==e.ext||"xlsx"==e.ext?'<div class="file-icon-define xls-icon"></div>':'<div class="file-icon-define img-icon"></div>',c+='</a><div class="file-detail"><div class="file-name"><span class="ellipsify">'+e.filename+'</span></div><div class="file-size"><span class="ellipsify">'+e.filesize+" bytes</span></div></div></div>",u.append(c),te(),1==e.eph?q("Private File",r):q("File",r)},this.drawTextMessageBubble_=function(e,t,n){var i=e.senderId==this.user.monkeyId?1:0,s=o(t),l=fe(e.text),u="";if(0==i)if(0==e.eph){if(u='<div class="message-line"><div id="'+e.id+'" class="bubble bubble-text bubble-text-in bubble-in"><div class="message-detail">',t.indexOf("G:")>=0){var c=e.senderName?e.senderName:"Unknown",d=void 0==e.senderName?"user-unknown":"";u+='<span class="message-user-name '+d+'" style="color: #'+e.senderColor+'">'+c+"</span>"}u+='<span class="message-hour">'+r(1e3*e.timestamp)+'</span></div><span class="message-text">'+l+"</span></div></div>"}else{var p=Math.round(.07*e.length);if(15>p&&(p=15),u='<div class="message-line"><div id="'+e.id+'" class="bubble bubble-text bubble-text-in bubble-in bubble-private" onclick="showPrivateTextMessage(\''+e.id+"','"+e.senderId+"','"+p+'\')"><div class="message-detail">',t.indexOf("G:")>=0){var c=e.senderName?e.senderName:"Unknown",d=void 0==e.senderName?"user-unknown":"";u+='<span class="message-user-name '+d+'" style="color: #'+e.senderColor+'">'+c+"</span>"}u+='<div class="message-content-timer"><i class="fa fa-clock-o"></i><span class="message-timer"> '+a(p)+'</span></div></div><span class="message-text">Click to read</span><div class="message-code">'+e.encryptedText+"</div></div></div>"}else if(1==i)if(0==e.eph){var f;switch(n){case 0:f="status-load";break;case 51:f="status-sent";break;case 52:f="status-read"}u='<div class="message-line"><div id="'+e.id+'" class="bubble bubble-text bubble-text-out bubble-out'+(0==n?"sending":"")+'"><div class="message-detail"><span class="message-hour">'+r(e.timestamp)+'</span><div class="message-status '+f+'">',0!=n&&(u+='<i class="fa fa-check"></i>'),u+='<div class="message-time" style="display: none;">'+e.timestamp+'</div></div></div><div class="button-message-unsend" onclick="unsendMessage(\''+e.id+"','"+t+'\')">x</div><span class="message-text">'+l+"</span></div></div>"}else u='<div class="message-line"><div id="'+e.id+'" class="bubble bubble-text bubble-text-out bubble-out'+(0==n?"sending":"")+'"><div class="message-detail"><span class="message-hour">'+r(e.timestamp)+'</span><div class="message-status '+f+'">',0!=n&&(u+='<i class="fa fa-check"></i>'),u+='<div class="message-time" style="display: none;">'+e.timestamp+'</div></div></div><div class="button-message-unsend" onclick="unsendMessage(\''+e.id+"','"+t+'\')">x</div><span class="message-text">Private Message</span></div></div>';$("#chat-timeline-conversation-"+s).append(u),te(),1==e.eph?q("Private Message",s):q(e.text,s)},this.drawImageMessageBubble_=function(e,t,n){var i=e.senderId==this.user.monkeyId?1:0,s=o(t),l=e.text,u=void 0!=e.dataSource?e.dataSource:"images/ukn.png",c="";if(0==i)if(0==e.eph){if(c='<div class="message-line"><div id="'+e.id+'" class="bubble-image-in bubble-in"><div class="message-detail">',t.indexOf("G:")>=0){var d=e.senderName?e.senderName:"Unknown",p=void 0==e.senderName?"user-unknown":"";c+='<span class="message-user-name '+p+'" style="color: #'+e.senderColor+'">'+d+"</span>"}c+='<span class="message-hour">'+r(1e3*e.timestamp)+'</span></div><div class="content-image" onclick="monkeyUI.showViewer(\''+e.id+"','"+l+"')\"><img src="+u+"></div></div></div>"}else{var f=15;if(c='<div class="message-line"><div id="'+e.id+'" class="bubble-image-private-in bubble-in bubble-private" onclick="showPrivateViewer(\''+e.id+"','"+e.senderId+"','"+f+"','"+e.cmpr+"','"+e.encr+'\')"><div class="message-detail">',t.indexOf("G\\:")>=0){var h=conversations[e.recipientId],p=void 0==users[e.senderId].id?"user-unknown":"";c+='<span class="message-user-name '+p+'" style="color: #'+colorUsers[h.members.indexOf(e.senderId)]+'">'+users[e.senderId].name+"</span>"}c+='<div class="message-content-timer"><i class="fa fa-clock-o"></i><span class="message-timer"> '+a(f)+'</span></div></div><div class="message-icon-define icon-image"></div><span class="message-text">Click to view</span><div class="message-code">'+e.encryptedText+"</div></div></div>"}else 1==i&&(c=0==e.eph?'<div class="message-line"><div id="'+e.id+'" class="bubble-image-out bubble-out"><div class="message-detail"><span class="message-hour">'+r(e.timestamp)+'</span><div class="message-status status-load"><div class="message-time" style="display: none;">'+e.timestamp+'</div></div></div><div class="button-message-unsend" onclick="unsendMessage(\''+e.id+"','"+t+'\')">x</div><div class="content-image" onclick="monkeyUI.showViewer(\''+e.id+"','"+l+'\')"><img src="'+u+'"></div></div></div>':'<div class="message-line"><div id="'+e.id+'" class="bubble-text-out bubble-out sending"><div class="message-detail"><span class="message-hour">'+r(e.timestamp)+'</span><div class="message-status status-load"><div class="message-time" style="display: none;">'+e.timestamp+'</div></div></div><div class="button-message-unsend" onclick="unsendMessage(\''+e.id+"','"+t+'\')">x</div><span class="message-text">Private Image</span></div></div>');$("#chat-timeline-conversation-"+s).append(c),te(),1==e.eph?q("Private Image",s):q("Image",s)},this.drawAudioMessageBubble_=function(e,t,n,i){var s=e.senderId==this.user.monkeyId?1:0,l=o(t),u=e.dataSource,c="";if(0==s)if(0==e.eph){if(c='<div class="message-line"><div id="'+e.id+'" class="bubble-audio-in bubble-in"><div class="message-detail">',t.indexOf("G:")>=0){var d=e.senderName?e.senderName:"Unknown",p=void 0==e.senderName?"user-unknown":"";c+='<span class="message-user-name '+p+'" style="color: #'+e.senderColor+'">'+d+"</span>"}c+='<span class="message-hour">'+r(1e3*e.timestamp)+'</span></div><div class="content-audio"><img id="playAudioBubbleImg'+e.id+'" style="display:block;" onclick="monkeyUI.playAudioBubble('+e.id+');" class="bubble-audio-button bubble-audio-button'+e.id+' playBubbleControl" src="../images/PlayBubble.png"><img id="pauseAudioBubbleImg'+e.id+'" onclick="monkeyUI.pauseAudioBubble('+e.id+');" class="bubble-audio-button bubble-audio-button'+e.id+'" src="../images/PauseBubble.png"><input id="play-player_'+e.id+'" class="knob second" data-width="100" data-displayPrevious=true value="0"><div class="bubble-audio-timer"><span id="minutesBubble'+e.id+'">'+("0"+parseInt(e.length/60)).slice(-2)+'</span><span>:</span><span id="secondsBubble'+e.id+'">'+("0"+e.length%60).slice(-2)+"</span></div></div>";var u=void 0!=e.dataSource?e.dataSource:"";c+='<audio id="audio_'+e.id+'" preload="auto" style="display:none;" controls="" src="'+u+'"></audio></div></div>'}else{var f=Math.round(e.length+.25*e.length);if(15>f&&(f=15),c='<div class="message-line"><div id="'+e.id+'" class="bubble-audio-private-in bubble-in bubble-private" onclick="showPrivateAudioMessage(\''+e.id+"','"+e.senderId+"','"+f+"','"+e.cmpr+"','"+e.encr+'\')"><div class="message-detail">',t.indexOf("G\\:")>=0){var h=conversations[e.recipientId],p=void 0==users[e.senderId].id?"user-unknown":"";c+='<span class="message-user-name '+p+'" style="color: #'+colorUsers[h.members.indexOf(e.senderId)]+'">'+users[e.senderId].name+"</span>"}c+='<div class="message-content-timer"><i class="fa fa-clock-o"></i><span class="message-timer"> '+a(f)+'</span></div></div><div class="message-icon-define icon-audio"></div><span class="message-text">Click to listen</span><div class="message-code">'+e.encryptedText+"</div></div></div>"}else 1==s&&(0==e.eph?(void 0==i&&(c+='<div class="message-line">'),c+='<div id="'+e.id+'" class="bubble-audio-out bubble-out"><div class="message-detail"><span class="message-hour">'+r(e.timestamp)+'</span><div class="message-status status-load"><div class="message-time" style="display: none;">'+e.timestamp+'</div></div></div><div class="button-message-unsend" onclick="unsendMessage(\''+e.id+"','"+t+'\')">x</div><div class="content-audio"><img id="playAudioBubbleImg'+e.id+'" style="display:block;" onclick="monkeyUI.playAudioBubble('+e.id+');" class="bubble-audio-button bubble-audio-button'+e.id+' playBubbleControl" src="../images/PlayBubble.png"><img id="pauseAudioBubbleImg'+e.id+'" onclick="monkeyUI.pauseAudioBubble('+e.id+');" class="bubble-audio-button bubble-audio-button'+e.id+'" src="../images/PauseBubble.png"><input id="play-player_'+e.id+'" class="knob second" data-width="100" data-displayPrevious=true value="0"><div class="bubble-audio-timer"><span id="minutesBubble'+e.id+'">00</span><span>:</span><span id="secondsBubble'+e.id+'">00</span></div></div><audio id="audio_'+e.id+'" preload="auto" style="display:none;" controls="" src="'+u+'"></audio></div>',void 0==i&&(c+="</div>")):c='<div class="message-line"><div id="'+e.id+'" class="bubble-text-out bubble-out sending"><div class="message-detail"><span class="message-hour">'+r(e.timestamp)+'</span><div class="message-status status-load"><div class="message-time" style="display: none;">'+e.timestamp+'</div></div></div><div class="button-message-unsend" onclick="unsendMessage(\''+e.id+"','"+t+'\')">x</div><span class="message-text">Private audio</span></div></div>');void 0!=i?$("#"+i).parent().html(c):$("#chat-timeline-conversation-"+l).append(c),te(),1==e.eph?q("Private Audio",l):q("Audio",l),J(e.id,Math.round(e.length)),0==e.eph&&(console.log("audio_"+e.id),w=document.getElementById("audio_"+e.id),w.oncanplay=function(){
J(e.id,Math.round(w.duration)),K(e.id),$("#"+messageId+" .content-audio").removeClass("disabled")})},this.getMessageUnknown=function(){return $(".user-unknown")},this.updateDataMessageBubble=function(e,t){var n=$("#"+e);n.find(".content-image").length>0?n.find("img").attr("src",t):n.find("audio").length>0?n.find("audio").attr("src",t):n.find(".content-file").length>0&&n.find(".file-icon-link").attr("href",t)},this.updateStatusSentMessageBubble=function(e,t,n){var i=$("#"+e);if(e!=t&&i.length>0&&i.attr("id",t),i=$("#"+t),i.find(".content-image").length>0){var a=i.find(".content-image").attr("onclick");a+="";var r=a.split(","),o=r[1].substr(1,r[1].length-3);i.find(".content-image").attr({onclick:"monkeyUI.showViewer('"+t+"','"+o+"')"})}i.find(".message-status").removeClass("status-load"),i.find(".message-status").removeClass("status-sent"),52==n?i.find(".message-status").addClass("status-read"):50!=n&&51!=n||i.find(".message-status").addClass("status-sent"),i.find(".fa").length<=0&&i.find(".message-status").prepend('<i class="fa fa-check"></i>')},this.playAudioBubble=function(e){Q(e),b=$("#play-player_"+e),$(".bubble-audio-button"+e).hide(),$("#pauseAudioBubbleImg"+e).css("display","block"),C=document.getElementById("minutesBubble"+e),A=document.getElementById("secondsBubble"+e),w=document.getElementById("audio_"+e),w.play(),x=setInterval("monkeyUI.updateAnimationBuble()",1e3),w.addEventListener("ended",function(){K(e),b.val(0).trigger("change"),$("#playAudioBubbleImg"+e).css("display","block"),$("#pauseAudioBubbleImg"+e).css("display","none"),clearInterval(x)})},this.updateAnimationBuble=function(){var e=Math.round(w.currentTime);b.val(e).trigger("change"),A.innerHTML=("0"+e%60).slice(-2),C.innerHTML=("0"+parseInt(e/60)).slice(-2)},this.pauseAudioBubble=function(e){$(".bubble-audio-button"+e).hide(),$("#playAudioBubbleImg"+e).toggle(),w.pause(),clearInterval(x)},this.addLoginForm=function(e){$(this.wrapperIn).append(e)},this.showViewer=function(e,t){var n=$("#"+e),i=n.find(".content-image img").attr("src"),a='<div class="viewer-content"><div class="viewer-toolbar"><button id="button-exit" onclick="monkeyUI.exitViewer()"> X </button><a href="'+i+'" download="'+t+'" ><button class="button-download" title="Download">Download</button></a><button class="button-download" title="Download" onclick="monkeyUI.printFile()" >Print</button></div><div id="file_viewer_image" class="viewer-image"><img  src="'+i+'"></div><div class="brand-app"></div></div>';$(".wrapper-out").append(a)},this.printFile=function(){Z($("#file_viewer_image").html())},this.exitViewer=function(){$(".viewer-content").remove()},this.closeImagePreview=function(e){R(),$(e).parent().parent().remove(),$("#attach-file").val("")}};e.exports=N},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=function i(e,t,a,r,o,s){n(this,i),void 0!=e&&(this.id=e),this.monkeyId=t,this.name=a,this.privacy=r,this.urlAvatar=o,this.isFriend=s}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=function i(e,t,a,r){n(this,i),this.id=e,this.lastMessage=null,this.unreadMessageCount=0,this.name=t,this.urlAvatar=a,this.members=r,this.setLastOpenMe=function(e){this.lastOpenMe=e}}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();e.exports=function(){function e(t){n(this,e),this.id=t.id,this.protocolType=t.protocolType,this.senderId=t.senderId,this.timestamp=t.datetimeCreation,this.text=t.text,this.recipientId=t.recipientId,t.params?(this.length=t.params.length,this.eph=void 0==t.params.eph?0:t.params.eph):this.length=15,this.typeFile=t.props.file_type,this.encr=t.props.encr,this.cmpr=t.props.cmpr,this.ext=t.props.ext,this.filesize=t.props.size,this.filename=t.props.filename,this.mimetype=t.props.mime_type,this.senderName=void 0,this.senderColor=void 0,this.setDataSource=function(e){this.dataSource=e},this.setFilename=function(e){this.filename=e},this.isEncrypted=function(){return 1==this.encr},this.isCompressed=function(){return void 0!=this.cmpr},this.compressionMethod=function(){return this.cmpr}}return i(e,[{key:"setSenderName",value:function(e){this.senderName=e}},{key:"setSenderColor",value:function(e){this.senderColor=e}}]),e}()},function(e,t,n){var i,a;/*! FileAPI 2.0.19 - BSD | git://github.com/mailru/FileAPI.git */
!function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),i=n&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,r=(n||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,r,o,s,l,u;for(t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),r=new ArrayBuffer(t.length),o=new Uint8Array(r),s=0;s<t.length;s+=1)o[s]=t.charCodeAt(s);return l=e.split(",")[0].split(":")[1].split(";")[0],n?new Blob([i?o:r],{type:l}):(u=new a,u.append(r),u.getBlob(l))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(e,n,i){e(i&&t.toDataURL&&r?r(this.toDataURL(n,i)):this.mozGetAsFile("blob",n))}:t.toDataURL&&r&&(t.toBlob=function(e,t,n){e(r(this.toDataURL(t,n)))})),e.dataURLtoBlob=r}(window),function(e,t){"use strict";function n(e,t,n,i,a){var r={type:n.type||n,target:e,result:i};J(r,a),t(r)}function i(e){return F&&!!F.prototype["readAs"+e]}function a(e,a,r,o){if(ne.isBlob(e)&&i(r)){var s=new F;Q(s,q,function u(t){var i=t.type;"progress"==i?n(e,a,t,t.target.result,{loaded:t.loaded,total:t.total}):"loadend"==i?(K(s,q,u),s=null):n(e,a,t,t.target.result)});try{o?s["readAs"+r](e,o):s["readAs"+r](e)}catch(l){n(e,a,"error",t,{error:l.toString()})}}else n(e,a,"error",t,{error:"filreader_not_support_"+r})}function r(e,t){if(!e.type&&(w||e.size%4096===0&&e.size<=102400))if(F)try{var n=new F;Z(n,q,function(e){var i="error"!=e.type;i?((null==n.readyState||n.readyState===n.LOADING)&&n.abort(),t(i)):t(!1,n.error)}),n.readAsDataURL(e)}catch(i){t(!1,i)}else t(null,new Error("FileReader is not supported"));else t(!0)}function o(e){return e&&(e.isFile||e.isDirectory)}function s(e){var t;return e.getAsEntry?t=e.getAsEntry():e.webkitGetAsEntry&&(t=e.webkitGetAsEntry()),t}function l(e,t){if(e)if(e.isFile)e.file(function(n){n.fullPath=e.fullPath,t(!1,[n],[n])},function(n){e.error=n,t("FileError.code: "+n.code,[],[e])});else if(e.isDirectory){var n=e.createReader(),i=!0,a=[],r=[e],o=function(n){e.error=n,t("DirectoryError.code: "+n.code,a,r)},u=function d(s){i&&(i=!1,s.length||(e.error=new Error("directory is empty"))),s.length?ne.afor(s,function(e,t){l(t,function(t,i,s){t||(a=a.concat(i)),r=r.concat(s),e?e():n.readEntries(d,o)})}):t(!1,a,r)};n.readEntries(u,o)}else l(s(e),t);else{var c=new Error("invalid entry");e=new Object(e),e.error=c,t(c.message,[],[e])}}function u(e){var t={};return Y(e,function(e,n){e&&"object"==typeof e&&void 0===e.nodeType&&(e=J({},e)),t[n]=e}),t}function c(e){return N.test(e&&e.tagName)}function d(e){return(e.originalEvent||e||"").dataTransfer||{}}function p(e){var t;for(t in e)if(e.hasOwnProperty(t)&&!(e[t]instanceof Object||"overlay"===t||"filter"===t))return!0;return!1}var f,h,m=1,g=function(){},v=e.document,y=v.doctype||{},b=e.navigator.userAgent,w=/safari\//i.test(b)&&!/chrome\//i.test(b),x=/iemobile\//i.test(b),C=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL&&webkitURL,A=e.Blob,k=e.File,F=e.FileReader,T=e.FormData,_=e.XMLHttpRequest,I=e.jQuery,S=!(!(k&&F&&(e.Uint8Array||T||_.prototype.sendAsBinary))||w&&/windows/i.test(b)&&!x),E=S&&"withCredentials"in new _,$=S&&!!A&&!!(A.prototype.webkitSlice||A.prototype.mozSlice||A.prototype.slice),j=(""+"".normalize).indexOf("[native code]")>0,D=e.dataURLtoBlob,M=/img/i,B=/canvas/i,L=/img|canvas/i,N=/input/i,P=/^data:[^,]+,/,R={}.toString,O=e.Math,H=function(t){return t=new e.Number(O.pow(1024,t)),t.from=function(e){return O.round(e*this)},t},U={},z=[],q="abort progress error load loadend",W="status statusText readyState response responseXML responseText responseBody".split(" "),X="currentTarget",G="preventDefault",V=function(e){return e&&"length"in e},Y=function(e,t,n){if(e)if(V(e))for(var i=0,a=e.length;a>i;i++)i in e&&t.call(n,e[i],i,e);else for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)},J=function(e){for(var t=arguments,n=1,i=function(t,n){e[n]=t};n<t.length;n++)Y(t[n],i);return e},Q=function(e,t,n){if(e){var i=ne.uid(e);U[i]||(U[i]={});var a=F&&e&&e instanceof F;Y(t.split(/\s+/),function(t){I&&!a?I.event.add(e,t,n):(U[i][t]||(U[i][t]=[]),U[i][t].push(n),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)})}},K=function(e,t,n){if(e){var i=ne.uid(e),a=U[i]||{},r=F&&e&&e instanceof F;Y(t.split(/\s+/),function(t){if(I&&!r)I.event.remove(e,t,n);else{for(var i=a[t]||[],o=i.length;o--;)if(i[o]===n){i.splice(o,1);break}e.addEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}})}},Z=function(e,t,n){Q(e,t,function i(a){K(e,t,i),n(a)})},ee=function(t){return t.target||(t.target=e.event&&e.event.srcElement||v),3===t.target.nodeType&&(t.target=t.target.parentNode),t},te=function(e){var t=v.createElement("input");return t.setAttribute("type","file"),e in t},ne={version:"2.0.19",cors:!1,html5:!0,media:!1,formData:!0,multiPassResize:!0,debug:!1,pingUrl:!1,multiFlash:!1,flashAbortTimeout:0,withCredentials:!0,staticPath:"./dist/",flashUrl:0,flashImageUrl:0,postNameConcat:function(e,t){return e+(null!=t?"["+t+"]":"")},ext2mime:{jpg:"image/jpeg",tif:"image/tiff",txt:"text/plain"},accept:{"image/*":"art bm bmp dwg dxf cbr cbz fif fpx gif ico iefs jfif jpe jpeg jpg jps jut mcf nap nif pbm pcx pgm pict pm png pnm qif qtif ras rast rf rp svf tga tif tiff xbm xbm xpm xwd","audio/*":"m4a flac aac rm mpa wav wma ogg mp3 mp2 m3u mod amf dmf dsm far gdm imf it m15 med okt s3m stm sfx ult uni xm sid ac3 dts cue aif aiff wpl ape mac mpc mpp shn wv nsf spc gym adplug adx dsp adp ymf ast afc hps xs","video/*":"m4v 3gp nsv ts ty strm rm rmvb m3u ifo mov qt divx xvid bivx vob nrg img iso pva wmv asf asx ogm m2v avi bin dat dvr-ms mpg mpeg mp4 mkv avc vp3 svq3 nuv viv dv fli flv wpl"},uploadRetry:0,networkDownRetryTimeout:5e3,chunkSize:0,chunkUploadRetry:0,chunkNetworkDownRetryTimeout:2e3,KB:H(1),MB:H(2),GB:H(3),TB:H(4),EMPTY_PNG:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=",expando:"fileapi"+(new Date).getTime(),uid:function(e){return e?e[ne.expando]=e[ne.expando]||ne.uid():(++m,ne.expando+m)},log:function(){ne.debug&&f&&(h?console.log.apply(console,arguments):console.log([].join.call(arguments," ")))},newImage:function(e,t){var n=v.createElement("img");return t&&ne.event.one(n,"error load",function(e){t("error"==e.type,n),n=null}),n.src=e,n},getXHR:function(){var t;if(_)t=new _;else if(e.ActiveXObject)try{t=new ActiveXObject("MSXML2.XMLHttp.3.0")}catch(n){t=new ActiveXObject("Microsoft.XMLHTTP")}return t},isArray:V,support:{dnd:E&&"ondrop"in v.createElement("div"),cors:E,html5:S,chunked:$,dataURI:!0,accept:te("accept"),multiple:te("multiple")},event:{on:Q,off:K,one:Z,fix:ee},throttle:function(t,n){var i,a;return function(){a=arguments,i||(t.apply(e,a),i=setTimeout(function(){i=0,t.apply(e,a)},n))}},F:function(){},parseJSON:function(t){var n;return n=e.JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t.replace(/([\r\n])/g,"\\$1")+");")()},trim:function(e){return e=String(e),e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},defer:function(){var e,n,i=[],a={resolve:function(t,r){for(a.resolve=g,n=t||!1,e=r;r=i.shift();)r(n,e)},then:function(a){n!==t?a(n,e):i.push(a)}};return a},queue:function(e){var t=0,n=0,i=!1,a=!1,r={inc:function(){n++},next:function(){t++,setTimeout(r.check,0)},check:function(){t>=n&&!i&&r.end()},isFail:function(){return i},fail:function(){!i&&e(i=!0)},end:function(){a||(a=!0,e())}};return r},each:Y,afor:function(e,t){var n=0,i=e.length;V(e)&&i--?!function a(){t(i!=n&&a,e[n],n++)}():t(!1)},extend:J,isFile:function(e){return"[object File]"===R.call(e)},isBlob:function(e){return this.isFile(e)||"[object Blob]"===R.call(e)},isCanvas:function(e){return e&&B.test(e.nodeName)},getFilesFilter:function(e){return e="string"==typeof e?e:e.getAttribute&&e.getAttribute("accept")||"",e?new RegExp("("+e.replace(/\./g,"\\.").replace(/,/g,"|")+")$","i"):/./},readAsDataURL:function(e,t){ne.isCanvas(e)?n(e,t,"load",ne.toDataURL(e)):a(e,t,"DataURL")},readAsBinaryString:function(e,t){i("BinaryString")?a(e,t,"BinaryString"):a(e,function(e){if("load"==e.type)try{e.result=ne.toBinaryString(e.result)}catch(n){e.type="error",e.message=n.toString()}t(e)},"DataURL")},readAsArrayBuffer:function(e,t){a(e,t,"ArrayBuffer")},readAsText:function(e,t,n){n||(n=t,t="utf-8"),a(e,n,"Text",t)},toDataURL:function(e,t){return"string"==typeof e?e:e.toDataURL?e.toDataURL(t||"image/png"):void 0},toBinaryString:function(t){return e.atob(ne.toDataURL(t).replace(P,""))},readAsImage:function(e,i,a){if(ne.isBlob(e))if(C){var r=C.createObjectURL(e);r===t?n(e,i,"error"):ne.readAsImage(r,i,a)}else ne.readAsDataURL(e,function(t){"load"==t.type?ne.readAsImage(t.result,i,a):(a||"error"==t.type)&&n(e,i,t,null,{loaded:t.loaded,total:t.total})});else if(ne.isCanvas(e))n(e,i,"load",e);else if(M.test(e.nodeName))if(e.complete)n(e,i,"load",e);else{var o="error abort load";Z(e,o,function l(t){"load"==t.type&&C&&C.revokeObjectURL(e.src),K(e,o,l),n(e,i,t,e)})}else if(e.iframe)n(e,i,{type:"error"});else{var s=ne.newImage(e.dataURL||e);ne.readAsImage(s,i,a)}},checkFileObj:function(e){var t={},n=ne.accept;return"object"==typeof e?t=e:t.name=(e+"").split(/\\|\//g).pop(),null==t.type&&(t.type=t.name.split(".").pop()),Y(n,function(e,n){e=new RegExp(e.replace(/\s/g,"|"),"i"),(e.test(t.type)||ne.ext2mime[t.type])&&(t.type=ne.ext2mime[t.type]||n.split("/")[0]+"/"+t.type)}),t},getDropFiles:function(e,t){var n,i=[],a=[],u=d(e),c=u.files,p=u.items,f=V(p)&&p[0]&&s(p[0]),h=ne.queue(function(){t(i,a)});if(f)if(j&&c){var m,g,v=c.length;for(n=new Array(v);v--;){m=c[v];try{g=s(p[v])}catch(y){ne.log("[err] getDropFiles: ",y),g=null}o(g)&&(g.isDirectory||g.isFile&&m.name==m.name.normalize("NFC"))?n[v]=g:n[v]=m}}else n=p;else n=c;Y(n||[],function(e){h.inc();try{f&&o(e)?l(e,function(e,t,n){e?ne.log("[err] getDropFiles:",e):i.push.apply(i,t),a.push.apply(a,n),h.next()}):r(e,function(t,n){t?i.push(e):e.error=n,a.push(e),h.next()})}catch(t){h.next(),ne.log("[err] getDropFiles: ",t)}}),h.check()},getFiles:function(e,t,n){var i=[];return n?(ne.filterFiles(ne.getFiles(e),t,n),null):(e.jquery&&(e.each(function(){i=i.concat(ne.getFiles(this))}),e=i,i=[]),"string"==typeof t&&(t=ne.getFilesFilter(t)),e.originalEvent?e=ee(e.originalEvent):e.srcElement&&(e=ee(e)),e.dataTransfer?e=e.dataTransfer:e.target&&(e=e.target),e.files?(i=e.files,S||(i[0].blob=e,i[0].iframe=!0)):!S&&c(e)?ne.trim(e.value)&&(i=[ne.checkFileObj(e.value)],i[0].blob=e,i[0].iframe=!0):V(e)&&(i=e),ne.filter(i,function(e){return!t||t.test(e.name)}))},getTotalSize:function(e){for(var t=0,n=e&&e.length;n--;)t+=e[n].size;return t},getInfo:function(e,t){var n={},i=z.concat();ne.isBlob(e)?!function a(){var r=i.shift();r?r.test(e.type)?r(e,function(e,i){e?t(e):(J(n,i),a())}):a():t(!1,n)}():t("not_support_info",n)},addInfoReader:function(e,t){t.test=function(t){return e.test(t)},z.push(t)},filter:function(e,t){for(var n,i=[],a=0,r=e.length;r>a;a++)a in e&&(n=e[a],t.call(n,n,a,e)&&i.push(n));return i},filterFiles:function(e,t,n){if(e.length){var i,a=e.concat(),r=[],o=[];!function s(){a.length?(i=a.shift(),ne.getInfo(i,function(e,n){(t(i,e?!1:n)?r:o).push(i),s()})):n(r,o)}()}else n([],e)},upload:function(e){e=J({jsonp:"callback",prepare:ne.F,beforeupload:ne.F,upload:ne.F,fileupload:ne.F,fileprogress:ne.F,filecomplete:ne.F,progress:ne.F,complete:ne.F,pause:ne.F,imageOriginal:!0,chunkSize:ne.chunkSize,chunkUploadRetry:ne.chunkUploadRetry,uploadRetry:ne.uploadRetry},e),e.imageAutoOrientation&&!e.imageTransform&&(e.imageTransform={rotate:"auto"});var t,n=new ne.XHR(e),i=this._getFilesDataArray(e.files),a=this,r=0,o=0,s=!1;return Y(i,function(e){r+=e.size}),n.files=[],Y(i,function(e){n.files.push(e.file)}),n.total=r,n.loaded=0,n.filesLeft=i.length,e.beforeupload(n,e),t=function(){var l=i.shift(),c=l&&l.file,d=!1,p=u(e);if(n.filesLeft=i.length,c&&c.name===ne.expando&&(c=null,ne.log("[warn] FileAPI.upload() — called without files")),("abort"!=n.statusText||n.current)&&l){if(s=!1,n.currentFile=c,c&&e.prepare(c,p)===!1)return void t.call(a);p.file=c,a._getFormData(p,l,function(s){o||e.upload(n,e);var u=new ne.XHR(J({},p,{upload:c?function(){e.fileupload(c,u,p)}:g,progress:c?function(t){d||(d=t.loaded===t.total,e.fileprogress({type:"progress",total:l.total=t.total,loaded:l.loaded=t.loaded},c,u,p),e.progress({type:"progress",total:r,loaded:n.loaded=o+l.size*(t.loaded/t.total)||0},c,u,p))}:g,complete:function(i){Y(W,function(e){n[e]=u[e]}),c&&(l.total=l.total||l.size,l.loaded=l.total,i||(this.progress(l),d=!0,o+=l.size,n.loaded=o),e.filecomplete(i,u,c,p)),setTimeout(function(){t.call(a)},0)}}));n.abort=function(e){e||(i.length=0),this.current=e,u.abort()},u.send(s)})}else{var f=200==n.status||201==n.status||204==n.status;e.complete(f?!1:n.statusText||"error",n,e),s=!0}},setTimeout(t,0),n.append=function(e,o){e=ne._getFilesDataArray([].concat(e)),Y(e,function(e){r+=e.size,n.files.push(e.file),o?i.unshift(e):i.push(e)}),n.statusText="",s&&t.call(a)},n.remove=function(e){for(var t,n=i.length;n--;)i[n].file==e&&(t=i.splice(n,1),r-=t.size);return t},n},_getFilesDataArray:function(e){var t=[],n={};if(c(e)){var i=ne.getFiles(e);n[e.name||"file"]=null!==e.getAttribute("multiple")?i:i[0]}else V(e)&&c(e[0])?Y(e,function(e){n[e.name||"file"]=ne.getFiles(e)}):n=e;return Y(n,function a(e,n){V(e)?Y(e,function(e){a(e,n)}):e&&(e.name||e.image)&&t.push({name:n,file:e,size:e.size,total:e.size,loaded:0})}),t.length||t.push({file:{name:ne.expando}}),t},_getFormData:function(e,t,n){var i=t.file,a=t.name,r=i.name,o=i.type,s=ne.support.transform&&e.imageTransform,l=new ne.Form,u=ne.queue(function(){n(l)}),c=s&&p(s),d=ne.postNameConcat;Y(e.data,function f(e,t){"object"==typeof e?Y(e,function(e,n){f(e,d(t,n))}):l.append(t,e)}),function h(t){t.image?(u.inc(),t.toData(function(e,n){t.file&&(n.type=t.file.type,n.quality=t.matrix.quality,r=t.file&&t.file.name),r=r||(new Date).getTime()+".png",h(n),u.next()})):ne.Image&&s&&(/^image/.test(t.type)||L.test(t.nodeName))?(u.inc(),c&&(s=[s]),ne.Image.transform(t,s,e.imageAutoOrientation,function(n,i){if(c&&!n)D||ne.flashEngine||(l.multipart=!0),l.append(a,i[0],r,s[0].type||o);else{var p=0;n||Y(i,function(e,t){D||ne.flashEngine||(l.multipart=!0),s[t].postName||(p=1),l.append(s[t].postName||d(a,t),e,r,s[t].type||o)}),(n||e.imageOriginal)&&l.append(d(a,p?"original":null),t,r,o)}u.next()})):r!==ne.expando&&l.append(a,t,r)}(i),u.check()},reset:function(e,t){var n,i;return I?(i=I(e).clone(!0).insertBefore(e).val("")[0],t||I(e).remove()):(n=e.parentNode,i=n.insertBefore(e.cloneNode(!0),e),i.value="",t||n.removeChild(e),Y(U[ne.uid(e)],function(t,n){Y(t,function(t){K(e,n,t),Q(i,n,t)})})),i},load:function(e,t){var n=ne.getXHR();return n?(n.open("GET",e,!0),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),Q(n,"progress",function(e){e.lengthComputable&&t({type:e.type,loaded:e.loaded,total:e.total},n)}),n.onreadystatechange=function(){if(4==n.readyState)if(n.onreadystatechange=null,200==n.status){e=e.split("/");var i={name:e[e.length-1],size:n.getResponseHeader("Content-Length"),type:n.getResponseHeader("Content-Type")};i.dataURL="data:"+i.type+";base64,"+ne.encode64(n.responseBody||n.responseText),t({type:"load",result:i},n)}else t({type:"error"},n)},n.send(null)):t({type:"error"}),n},encode64:function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",i=0;for("string"!=typeof e&&(e=String(e));i<e.length;){var a,r,o=255&e.charCodeAt(i++),s=255&e.charCodeAt(i++),l=255&e.charCodeAt(i++),u=o>>2,c=(3&o)<<4|s>>4;isNaN(s)?a=r=64:(a=(15&s)<<2|l>>6,r=isNaN(l)?64:63&l),n+=t.charAt(u)+t.charAt(c)+t.charAt(a)+t.charAt(r)}return n}};ne.addInfoReader(/^image/,function(e,t){if(!e.__dimensions){var n=e.__dimensions=ne.defer();ne.readAsImage(e,function(e){var t=e.target;n.resolve("load"==e.type?!1:"error",{width:t.width,height:t.height}),t.src=ne.EMPTY_PNG,t=null})}e.__dimensions.then(t)}),ne.event.dnd=function(e,t,n){var i,a;n||(n=t,t=ne.F),F?(Q(e,"dragenter dragleave dragover",t.ff=t.ff||function(e){for(var n=d(e).types,r=n&&n.length,o=!1;r--;)if(~n[r].indexOf("File")){e[G](),a!==e.type&&(a=e.type,"dragleave"!=a&&t.call(e[X],!0,e),o=!0);break}o&&(clearTimeout(i),i=setTimeout(function(){t.call(e[X],"dragleave"!=a,e)},50))}),Q(e,"drop",n.ff=n.ff||function(e){e[G](),a=0,t.call(e[X],!1,e),ne.getDropFiles(e,function(t,i){n.call(e[X],t,i,e)})})):ne.log("Drag'n'Drop -- not supported")},ne.event.dnd.off=function(e,t,n){K(e,"dragenter dragleave dragover",t.ff),K(e,"drop",n.ff)},I&&!I.fn.dnd&&(I.fn.dnd=function(e,t){return this.each(function(){ne.event.dnd(this,e,t)})},I.fn.offdnd=function(e,t){return this.each(function(){ne.event.dnd.off(this,e,t)})}),e.FileAPI=J(ne,e.FileAPI),ne.log("FileAPI: "+ne.version),ne.log("protocol: "+e.location.protocol),ne.log("doctype: ["+y.name+"] "+y.publicId+" "+y.systemId),Y(v.getElementsByTagName("meta"),function(e){/x-ua-compatible/i.test(e.getAttribute("http-equiv"))&&ne.log("meta.http-equiv: "+e.getAttribute("content"))});try{f=!!console.log,h=!!console.log.apply}catch(ie){}ne.flashUrl||(ne.flashUrl=ne.staticPath+"FileAPI.flash.swf"),ne.flashImageUrl||(ne.flashImageUrl=ne.staticPath+"FileAPI.flash.image.swf"),ne.flashWebcamUrl||(ne.flashWebcamUrl=ne.staticPath+"FileAPI.flash.camera.swf")}(window,void 0),function(e,t,n){"use strict";function i(t){if(t instanceof i){var n=new i(t.file);return e.extend(n.matrix,t.matrix),n}return this instanceof i?(this.file=t,this.size=t.size||100,void(this.matrix={sx:0,sy:0,sw:0,sh:0,dx:0,dy:0,dw:0,dh:0,resize:0,deg:0,quality:1,filter:0})):new i(t)}var a=Math.min,r=Math.round,o=function(){return t.createElement("canvas")},s=!1,l={8:270,3:180,6:90,7:270,4:180,5:90};try{s=o().toDataURL("image/png").indexOf("data:image/png")>-1}catch(u){}i.prototype={image:!0,constructor:i,set:function(t){return e.extend(this.matrix,t),this},crop:function(e,t,i,a){return i===n&&(i=e,a=t,e=t=0),this.set({sx:e,sy:t,sw:i,sh:a||i})},resize:function(e,t,n){return/min|max|height|width/.test(t)&&(n=t,t=e),this.set({dw:e,dh:t||e,resize:n})},preview:function(e,t){return this.resize(e,t||e,"preview")},rotate:function(e){return this.set({deg:e})},filter:function(e){return this.set({filter:e})},overlay:function(e){return this.set({overlay:e})},clone:function(){return new i(this)},_load:function(t,n){var i=this;/img|video/i.test(t.nodeName)?n.call(i,null,t):e.readAsImage(t,function(e){n.call(i,"load"!=e.type,e.result)})},_apply:function(t,n){var r,s=o(),l=this.getMatrix(t),u=s.getContext("2d"),c=t.videoWidth||t.width,d=t.videoHeight||t.height,p=l.deg,f=l.dw,h=l.dh,m=c,g=d,v=l.filter,y=t,b=l.overlay,w=e.queue(function(){t.src=e.EMPTY_PNG,n(!1,s)}),x=e.renderImageToCanvas;for(p-=360*Math.floor(p/360),t._type=this.file.type;l.multipass&&a(m/f,g/h)>2;)m=m/2+.5|0,g=g/2+.5|0,r=o(),r.width=m,r.height=g,y!==t?(x(r,y,0,0,y.width,y.height,0,0,m,g),y=r):(y=r,x(y,t,l.sx,l.sy,l.sw,l.sh,0,0,m,g),l.sx=l.sy=l.sw=l.sh=0);s.width=p%180?h:f,s.height=p%180?f:h,s.type=l.type,s.quality=l.quality,u.rotate(p*Math.PI/180),x(u.canvas,y,l.sx,l.sy,l.sw||y.width,l.sh||y.height,180==p||270==p?-f:0,90==p||180==p?-h:0,f,h),f=s.width,h=s.height,b&&e.each([].concat(b),function(t){w.inc();var n=new window.Image,i=function(){var a=0|t.x,r=0|t.y,o=t.w||n.width,s=t.h||n.height,l=t.rel;a=1==l||4==l||7==l?(f-o+a)/2:2==l||5==l||8==l?f-(o+a):a,r=3==l||4==l||5==l?(h-s+r)/2:l>=6?h-(s+r):r,e.event.off(n,"error load abort",i);try{u.globalAlpha=t.opacity||1,u.drawImage(n,a,r,o,s)}catch(c){}w.next()};e.event.on(n,"error load abort",i),n.src=t.src,n.complete&&i()}),v&&(w.inc(),i.applyFilter(s,v,w.next)),w.check()},getMatrix:function(t){var n=e.extend({},this.matrix),i=n.sw=n.sw||t.videoWidth||t.naturalWidth||t.width,o=n.sh=n.sh||t.videoHeight||t.naturalHeight||t.height,s=n.dw=n.dw||i,l=n.dh=n.dh||o,u=i/o,c=s/l,d=n.resize;if("preview"==d){if(s!=i||l!=o){var p,f;c>=u?(p=i,f=p/c):(f=o,p=f*c),(p!=i||f!=o)&&(n.sx=~~((i-p)/2),n.sy=~~((o-f)/2),i=p,o=f)}}else"height"==d?s=l*u:"width"==d?l=s/u:d&&(i>s||o>l?"min"==d?(s=r(c>u?a(i,s):l*u),l=r(c>u?s/u:a(o,l))):(s=r(u>=c?a(i,s):l*u),l=r(u>=c?s/u:a(o,l))):(s=i,l=o));return n.sw=i,n.sh=o,n.dw=s,n.dh=l,n.multipass=e.multiPassResize,n},_trans:function(t){this._load(this.file,function(n,i){if(n)t(n);else try{this._apply(i,t)}catch(n){e.log("[err] FileAPI.Image.fn._apply:",n),t(n)}})},get:function(t){if(e.support.transform){var n=this,i=n.matrix;"auto"==i.deg?e.getInfo(n.file,function(e,a){i.deg=l[a&&a.exif&&a.exif.Orientation]||0,n._trans(t)}):n._trans(t)}else t("not_support_transform");return this},toData:function(e){return this.get(e)}},i.exifOrientation=l,i.transform=function(t,a,r,o){function s(s,l){var u={},c=e.queue(function(e){o(e,u)});s?c.fail():e.each(a,function(e,a){if(!c.isFail()){var o=new i(l.nodeType?l:t),s="function"==typeof e;if(s?e(l,o):e.width?o[e.preview?"preview":"resize"](e.width,e.height,e.strategy):e.maxWidth&&(l.width>e.maxWidth||l.height>e.maxHeight)&&o.resize(e.maxWidth,e.maxHeight,"max"),e.crop){var d=e.crop;o.crop(0|d.x,0|d.y,d.w||d.width,d.h||d.height)}e.rotate===n&&r&&(e.rotate="auto"),o.set({type:o.matrix.type||e.type||t.type||"image/png"}),s||o.set({deg:e.rotate,overlay:e.overlay,filter:e.filter,quality:e.quality||1}),c.inc(),o.toData(function(e,t){e?c.fail():(u[a]=t,c.next())})}})}t.width?s(!1,t):e.getInfo(t,s)},e.each(["TOP","CENTER","BOTTOM"],function(t,n){e.each(["LEFT","CENTER","RIGHT"],function(e,a){i[t+"_"+e]=3*n+a,i[e+"_"+t]=3*n+a})}),i.toCanvas=function(e){var n=t.createElement("canvas");return n.width=e.videoWidth||e.width,n.height=e.videoHeight||e.height,n.getContext("2d").drawImage(e,0,0),n},i.fromDataURL=function(t,n,i){var a=e.newImage(t);e.extend(a,n),i(a)},i.applyFilter=function(t,n,a){"function"==typeof n?n(t,a):window.Caman&&window.Caman("IMG"==t.tagName?i.toCanvas(t):t,function(){"string"==typeof n?this[n]():e.each(n,function(e,t){this[t](e)},this),this.render(a)})},e.renderImageToCanvas=function(t,n,i,a,r,o,s,l,u,c){try{return t.getContext("2d").drawImage(n,i,a,r,o,s,l,u,c)}catch(d){throw e.log("renderImageToCanvas failed"),d}},e.support.canvas=e.support.transform=s,e.Image=i}(FileAPI,document),function(e){"use strict";e(FileAPI)}(function(e){"use strict";if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var t=e.renderImageToCanvas;e.detectSubsampling=function(e){var t,n;return e.width*e.height>1048576?(t=document.createElement("canvas"),t.width=t.height=1,n=t.getContext("2d"),n.drawImage(e,-e.width+1,0),0===n.getImageData(0,0,1,1).data[3]):!1},e.detectVerticalSquash=function(e,t){var n,i,a,r,o,s=e.naturalHeight||e.height,l=document.createElement("canvas"),u=l.getContext("2d");for(t&&(s/=2),l.width=1,l.height=s,u.drawImage(e,0,0),n=u.getImageData(0,0,1,s).data,i=0,a=s,r=s;r>i;)o=n[4*(r-1)+3],0===o?a=r:i=r,r=a+i>>1;return r/s||1},e.renderImageToCanvas=function(n,i,a,r,o,s,l,u,c,d){if("image/jpeg"===i._type){var p,f,h,m,g=n.getContext("2d"),v=document.createElement("canvas"),y=1024,b=v.getContext("2d");if(v.width=y,v.height=y,g.save(),p=e.detectSubsampling(i),p&&(a/=2,r/=2,o/=2,s/=2),f=e.detectVerticalSquash(i,p),p||1!==f){for(r*=f,c=Math.ceil(y*c/o),d=Math.ceil(y*d/s/f),u=0,m=0;s>m;){for(l=0,h=0;o>h;)b.clearRect(0,0,y,y),b.drawImage(i,a,r,o,s,-h,-m,o,s),g.drawImage(v,0,0,y,y,l,u,c,d),h+=y,l+=c;m+=y,u+=d}return g.restore(),n}}return t(n,i,a,r,o,s,l,u,c,d)}}}),function(e,t){"use strict";function n(t,n,i){var a=t.blob,r=t.file;if(r){if(!a.toDataURL)return void e.readAsBinaryString(a,function(e){"load"==e.type&&n(t,e.result)});var o={"image/jpeg":".jpe?g","image/png":".png"},s=o[t.type]?t.type:"image/png",l=o[s]||".png",u=a.quality||1;r.match(new RegExp(l+"$","i"))||(r+=l.replace("?","")),t.file=r,t.type=s,!i&&a.toBlob?a.toBlob(function(e){n(t,e)},s,u):n(t,e.toBinaryString(a.toDataURL(s,u)))}else n(t,a)}var i=t.document,a=t.FormData,r=function(){this.items=[]},o=t.encodeURIComponent;r.prototype={append:function(e,t,n,i){this.items.push({name:e,blob:t&&t.blob||(void 0==t?"":t),file:t&&(n||t.name),type:t&&(i||t.type)})},each:function(e){for(var t=0,n=this.items.length;n>t;t++)e.call(this,this.items[t])},toData:function(t,n){n._chunked=e.support.chunked&&n.chunkSize>0&&1==e.filter(this.items,function(e){return e.file}).length,e.support.html5?e.formData&&!this.multipart&&a?n._chunked?(e.log("FileAPI.Form.toPlainData"),this.toPlainData(t)):(e.log("FileAPI.Form.toFormData"),this.toFormData(t)):(e.log("FileAPI.Form.toMultipartData"),this.toMultipartData(t)):(e.log("FileAPI.Form.toHtmlData"),this.toHtmlData(t))},_to:function(t,n,i,a){var r=e.queue(function(){n(t)});this.each(function(o){try{i(o,t,r,a)}catch(s){e.log("FileAPI.Form._to: "+s.message),n(s)}}),r.check()},toHtmlData:function(t){this._to(i.createDocumentFragment(),t,function(t,n){var a,r=t.blob;t.file?(e.reset(r,!0),r.name=t.name,r.disabled=!1,n.appendChild(r)):(a=i.createElement("input"),a.name=t.name,a.type="hidden",a.value=r,n.appendChild(a))})},toPlainData:function(e){this._to({},e,function(e,t,i){e.file&&(t.type=e.file),e.blob.toBlob?(i.inc(),n(e,function(e,n){t.name=e.name,t.file=n,t.size=n.length,t.type=e.type,i.next()})):e.file?(t.name=e.blob.name,t.file=e.blob,t.size=e.blob.size,t.type=e.type):(t.params||(t.params=[]),t.params.push(o(e.name)+"="+o(e.blob))),t.start=-1,t.end=t.file&&t.file.FileAPIReadPosition||-1,t.retry=0})},toFormData:function(e){this._to(new a,e,function(e,t,i){e.blob&&e.blob.toBlob?(i.inc(),n(e,function(e,n){t.append(e.name,n,e.file),i.next()})):e.file?t.append(e.name,e.blob,e.file):t.append(e.name,e.blob),e.file&&t.append("_"+e.name,e.file)})},toMultipartData:function(t){this._to([],t,function(e,t,i,a){i.inc(),n(e,function(e,n){t.push("--_"+a+('\r\nContent-Disposition: form-data; name="'+e.name+'"'+(e.file?'; filename="'+o(e.file)+'"':"")+(e.file?"\r\nContent-Type: "+(e.type||"application/octet-stream"):"")+"\r\n\r\n"+(e.file?n:o(n))+"\r\n")),i.next()},!0)},e.expando)}},e.Form=r}(FileAPI,window),function(e,t){"use strict";var n=function(){},i=e.document,a=function(e){this.uid=t.uid(),this.xhr={abort:n,getResponseHeader:n,getAllResponseHeaders:n},this.options=e},r={"":1,XML:1,Text:1,Body:1};a.prototype={status:0,statusText:"",constructor:a,getResponseHeader:function(e){return this.xhr.getResponseHeader(e)},getAllResponseHeaders:function(){return this.xhr.getAllResponseHeaders()||{}},end:function(i,a){var r=this,o=r.options;r.end=r.abort=n,r.status=i,a&&(r.statusText=a),t.log("xhr.end:",i,a),o.complete(200==i||201==i?!1:r.statusText||"unknown",r),r.xhr&&r.xhr.node&&setTimeout(function(){var t=r.xhr.node;try{t.parentNode.removeChild(t)}catch(n){}try{delete e[r.uid]}catch(n){}e[r.uid]=r.xhr.node=null},9)},abort:function(){this.end(0,"abort"),this.xhr&&(this.xhr.aborted=!0,this.xhr.abort())},send:function(e){var t=this,n=this.options;e.toData(function(e){e instanceof Error?t.end(0,e.message):(n.upload(n,t),t._send.call(t,n,e))},n)},_send:function(n,a){var o,s=this,l=s.uid,u=s.uid+"Load",c=n.url;if(t.log("XHR._send:",a),n.cache||(c+=(~c.indexOf("?")?"&":"?")+t.uid()),a.nodeName){var d=n.jsonp;c=c.replace(/([a-z]+)=(\?)/i,"$1="+l),n.upload(n,s);var p=function(e){if(~c.indexOf(e.origin))try{var n=t.parseJSON(e.data);n.id==l&&f(n.status,n.statusText,n.response)}catch(i){f(0,i.message)}},f=e[l]=function(n,i,a){s.readyState=4,s.responseText=a,s.end(n,i),t.event.off(e,"message",p),e[l]=o=m=e[u]=null};s.xhr.abort=function(){try{m.stop?m.stop():m.contentWindow.stop?m.contentWindow.stop():m.contentWindow.document.execCommand("Stop")}catch(e){}f(0,"abort")},t.event.on(e,"message",p),e[u]=function(){try{var e=m.contentWindow,n=e.document,i=e.result||t.parseJSON(n.body.innerHTML);f(i.status,i.statusText,i.response)}catch(a){t.log("[transport.onload]",a)}},o=i.createElement("div"),o.innerHTML='<form target="'+l+'" action="'+c+'" method="POST" enctype="multipart/form-data" style="position: absolute; top: -1000px; overflow: hidden; width: 1px; height: 1px;"><iframe name="'+l+'" src="javascript:false;" onload="window.'+u+" && "+u+'();"></iframe>'+(d&&n.url.indexOf("=?")<0?'<input value="'+l+'" name="'+d+'" type="hidden"/>':"")+"</form>";var h=o.getElementsByTagName("form")[0],m=o.getElementsByTagName("iframe")[0];h.appendChild(a),t.log(h.parentNode.innerHTML),i.body.appendChild(o),s.xhr.node=o,s.readyState=2;try{h.submit()}catch(g){t.log("iframe.error: "+g)}h=null}else{if(c=c.replace(/([a-z]+)=(\?)&?/i,""),this.xhr&&this.xhr.aborted)return void t.log("Error: already aborted");if(o=s.xhr=t.getXHR(),a.params&&(c+=(c.indexOf("?")<0?"?":"&")+a.params.join("&")),o.open("POST",c,!0),t.withCredentials&&(o.withCredentials="true"),n.headers&&n.headers["X-Requested-With"]||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.each(n.headers,function(e,t){o.setRequestHeader(t,e)}),n._chunked){o.upload&&o.upload.addEventListener("progress",t.throttle(function(e){a.retry||n.progress({type:e.type,total:a.size,loaded:a.start+e.loaded,totalSize:a.size},s,n)},100),!1),o.onreadystatechange=function(){var e=parseInt(o.getResponseHeader("X-Last-Known-Byte"),10);if(s.status=o.status,s.statusText=o.statusText,s.readyState=o.readyState,4==o.readyState){for(var i in r)s["response"+i]=o["response"+i];if(o.onreadystatechange=null,!o.status||o.status-201>0)if(t.log("Error: "+o.status),(!o.status&&!o.aborted||500==o.status||416==o.status)&&++a.retry<=n.chunkUploadRetry){var l=o.status?0:t.chunkNetworkDownRetryTimeout;n.pause(a.file,n),t.log("X-Last-Known-Byte: "+e),e?a.end=e:(a.end=a.start-1,416==o.status&&(a.end=a.end-n.chunkSize)),setTimeout(function(){s._send(n,a)},l)}else s.end(o.status);else a.retry=0,a.end==a.size-1?s.end(o.status):(t.log("X-Last-Known-Byte: "+e),e&&(a.end=e),a.file.FileAPIReadPosition=a.end,setTimeout(function(){s._send(n,a)},0));o=null}},a.start=a.end+1,a.end=Math.max(Math.min(a.start+n.chunkSize,a.size)-1,a.start);var v=a.file,y=(v.slice||v.mozSlice||v.webkitSlice).call(v,a.start,a.end+1);a.size&&!y.size?setTimeout(function(){s.end(-1)}):(o.setRequestHeader("Content-Range","bytes "+a.start+"-"+a.end+"/"+a.size),o.setRequestHeader("Content-Disposition","attachment; filename="+encodeURIComponent(a.name)),o.setRequestHeader("Content-Type",a.type||"application/octet-stream"),o.send(y)),v=y=null}else if(o.upload&&o.upload.addEventListener("progress",t.throttle(function(e){n.progress(e,s,n)},100),!1),o.onreadystatechange=function(){if(s.status=o.status,s.statusText=o.statusText,s.readyState=o.readyState,4==o.readyState){for(var e in r)s["response"+e]=o["response"+e];if(o.onreadystatechange=null,!o.status||o.status>201)if(t.log("Error: "+o.status),(!o.status&&!o.aborted||500==o.status)&&(n.retry||0)<n.uploadRetry){n.retry=(n.retry||0)+1;var i=t.networkDownRetryTimeout;n.pause(n.file,n),setTimeout(function(){s._send(n,a)},i)}else s.end(o.status);else s.end(o.status);o=null}},t.isArray(a)){o.setRequestHeader("Content-Type","multipart/form-data; boundary=_"+t.expando);var b=a.join("")+"--_"+t.expando+"--";if(o.sendAsBinary)o.sendAsBinary(b);else{var w=Array.prototype.map.call(b,function(e){return 255&e.charCodeAt(0)});o.send(new Uint8Array(w).buffer)}}else o.send(a)}}},t.XHR=a}(window,FileAPI),function(e,t){"use strict";function n(e){return e>=0?e+"px":e}function i(e){var n,i=r.createElement("canvas"),a=!1;try{n=i.getContext("2d"),n.drawImage(e,0,0,1,1),a=255!=n.getImageData(0,0,1,1).data[4]}catch(o){t.log("[FileAPI.Camera] detectVideoSignal:",o)}return a}var a=e.URL||e.webkitURL,r=e.document,o=e.navigator,s=o.getUserMedia||o.webkitGetUserMedia||o.mozGetUserMedia||o.msGetUserMedia,l=!!s;t.support.media=l;var u=function(e){this.video=e};u.prototype={isActive:function(){return!!this._active},start:function(e){var t,n,r=this,l=r.video,u=function(i){r._active=!i,clearTimeout(n),clearTimeout(t),e&&e(i,r)};s.call(o,{video:!0},function(e){r.stream=e,l.src=a.createObjectURL(e),t=setInterval(function(){i(l)&&u(null)},1e3),n=setTimeout(function(){u("timeout");
},5e3),l.play()},u)},stop:function(){try{this._active=!1,this.video.pause();try{this.stream.stop()}catch(e){t.each(this.stream.getTracks(),function(e){e.stop()})}this.stream=null}catch(e){t.log("[FileAPI.Camera] stop:",e)}},shot:function(){return new c(this.video)}},u.get=function(e){return new u(e.firstChild)},u.publish=function(i,a,o){"function"==typeof a&&(o=a,a={}),a=t.extend({},{width:"100%",height:"100%",start:!0},a),i.jquery&&(i=i[0]);var s=function(e){if(e)o(e);else{var t=u.get(i);a.start?t.start(o):o(null,t)}};if(i.style.width=n(a.width),i.style.height=n(a.height),t.html5&&l){var c=r.createElement("video");c.style.width=n(a.width),c.style.height=n(a.height),e.jQuery?jQuery(i).empty():i.innerHTML="",i.appendChild(c),s()}else u.fallback(i,a,s)},u.fallback=function(e,t,n){n("not_support_camera")};var c=function(e){var n=e.nodeName?t.Image.toCanvas(e):e,i=t.Image(n);return i.type="image/png",i.width=n.width,i.height=n.height,i.size=n.width*n.height*4,i};u.Shot=c,t.Camera=u}(window,FileAPI),function(e,t,n){"use strict";var i=e.document,a=e.location,r=e.navigator,o=n.each;n.support.flash=function(){var t=r.mimeTypes,i=!1;if(r.plugins&&"object"==typeof r.plugins["Shockwave Flash"])i=r.plugins["Shockwave Flash"].description&&!(t&&t["application/x-shockwave-flash"]&&!t["application/x-shockwave-flash"].enabledPlugin);else try{i=!(!e.ActiveXObject||!new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(o){n.log("Flash -- does not supported.")}return i&&/^file:/i.test(a)&&n.log("[warn] Flash does not work on `file:` protocol."),i}(),n.support.flash&&(!n.html5||!n.support.html5||n.cors&&!n.support.cors||n.media&&!n.support.media)&&function(){function s(e){return('<object id="#id#" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+(e.width||"100%")+'" height="'+(e.height||"100%")+'"><param name="movie" value="#src#" /><param name="flashvars" value="#flashvars#" /><param name="swliveconnect" value="true" /><param name="allowscriptaccess" value="always" /><param name="allownetworking" value="all" /><param name="menu" value="false" /><param name="wmode" value="#wmode#" /><embed flashvars="#flashvars#" swliveconnect="true" allownetworking="all" allowscriptaccess="always" name="#id#" src="#src#" width="'+(e.width||"100%")+'" height="'+(e.height||"100%")+'" menu="false" wmode="transparent" type="application/x-shockwave-flash"></embed></object>').replace(/#(\w+)#/gi,function(t,n){return e[n]})}function l(e,t){if(e&&e.style){var n,i;for(n in t){i=t[n],"number"==typeof i&&(i+="px");try{e.style[n]=i}catch(a){}}}}function u(e,t){o(t,function(t,n){var i=e[n];e[n]=function(){return this.parent=i,t.apply(this,arguments)}})}function c(e){return e&&!e.flashId}function d(e){var t=e.wid=n.uid();return x._fn[t]=e,"FileAPI.Flash._fn."+t}function p(e){try{x._fn[e.wid]=null,delete x._fn[e.wid]}catch(t){}}function f(e,t){if(!w.test(e)){if(/^\.\//.test(e)||"/"!=e.charAt(0)){var n=a.pathname;n=n.substr(0,n.lastIndexOf("/")),e=(n+"/"+e).replace("/./","/")}"//"!=e.substr(0,2)&&(e="//"+a.host+e),w.test(e)||(e=a.protocol+e)}return t&&(e+=(/\?/.test(e)?"&":"?")+t),e}function h(e,t,a){function r(){try{var e=x.get(u);e.setImage(t)}catch(i){n.log('[err] FlashAPI.Preview.setImage -- can not set "base64":',i)}}var o,u=n.uid(),c=i.createElement("div"),h=10;for(o in e)c.setAttribute(o,e[o]),c[o]=e[o];l(c,e),e.width="100%",e.height="100%",c.innerHTML=s(n.extend({id:u,src:f(n.flashImageUrl,"r="+n.uid()),wmode:"opaque",flashvars:"scale="+e.scale+"&callback="+d(function m(){return p(m),--h>0&&r(),!0})},e)),a(!1,c),c=null}function m(e){return{id:e.id,name:e.name,matrix:e.matrix,flashId:e.flashId}}function g(t){var n=t.getBoundingClientRect(),a=i.body,r=(t&&t.ownerDocument).documentElement;return{top:n.top+(e.pageYOffset||r.scrollTop)-(r.clientTop||a.clientTop||0),left:n.left+(e.pageXOffset||r.scrollLeft)-(r.clientLeft||a.clientLeft||0),width:n.right-n.left,height:n.bottom-n.top}}var v=n.uid(),y=0,b={},w=/^https?:/i,x={_fn:{},init:function(){var e=i.body&&i.body.firstChild;if(e)do if(1==e.nodeType){n.log("FlashAPI.state: awaiting");var t=i.createElement("div");return t.id="_"+v,l(t,{top:1,right:1,width:5,height:5,position:"absolute",zIndex:"2147483647"}),e.parentNode.insertBefore(t,e),void x.publish(t,v)}while(e=e.nextSibling);10>y&&setTimeout(x.init,50*++y)},publish:function(e,t,i){i=i||{},e.innerHTML=s({id:t,src:f(n.flashUrl,"r="+n.version),wmode:i.camera?"":"transparent",flashvars:"callback="+(i.onEvent||"FileAPI.Flash.onEvent")+"&flashId="+t+"&storeKey="+r.userAgent.match(/\d/gi).join("")+"_"+n.version+(x.isReady||(n.pingUrl?"&ping="+n.pingUrl:""))+"&timeout="+n.flashAbortTimeout+(i.camera?"&useCamera="+f(n.flashWebcamUrl):"")+"&debug="+(n.debug?"1":"")},i)},ready:function(){n.log("FlashAPI.state: ready"),x.ready=n.F,x.isReady=!0,x.patch(),x.patchCamera&&x.patchCamera(),n.event.on(i,"mouseover",x.mouseover),n.event.on(i,"click",function(e){x.mouseover(e)&&(e.preventDefault?e.preventDefault():e.returnValue=!0)})},getEl:function(){return i.getElementById("_"+v)},getWrapper:function(e){do if(/js-fileapi-wrapper/.test(e.className))return e;while((e=e.parentNode)&&e!==i.body)},mouseover:function(e){var t=n.event.fix(e).target;if(/input/i.test(t.nodeName)&&"file"==t.type&&!t.disabled){var a=t.getAttribute(v),r=x.getWrapper(t);if(n.multiFlash){if("i"==a||"r"==a)return!1;if("p"!=a){t.setAttribute(v,"i");var o=i.createElement("div");if(!r)return void n.log("[err] FlashAPI.mouseover: js-fileapi-wrapper not found");l(o,{top:0,left:0,width:t.offsetWidth,height:t.offsetHeight,zIndex:"2147483647",position:"absolute"}),r.appendChild(o),x.publish(o,n.uid()),t.setAttribute(v,"p")}return!0}if(r){var s=g(r);l(x.getEl(),s),x.curInp=t}}else/object|embed/i.test(t.nodeName)||l(x.getEl(),{top:1,left:1,width:5,height:5})},onEvent:function(e){var t=e.type;if("ready"==t){try{x.getInput(e.flashId).setAttribute(v,"r")}catch(i){}return x.ready(),setTimeout(function(){x.mouseenter(e)},50),!0}"ping"===t?n.log("(flash -> js).ping:",[e.status,e.savedStatus],e.error):"log"===t?n.log("(flash -> js).log:",e.target):t in x&&setTimeout(function(){n.log("FlashAPI.event."+e.type+":",e),x[t](e)},1)},mouseenter:function(e){var t=x.getInput(e.flashId);if(t){x.cmd(e,"multiple",null!=t.getAttribute("multiple"));var i=[],a={};o((t.getAttribute("accept")||"").split(/,\s*/),function(e){n.accept[e]&&o(n.accept[e].split(" "),function(e){a[e]=1})}),o(a,function(e,t){i.push(t)}),x.cmd(e,"accept",i.length?i.join(",")+","+i.join(",").toUpperCase():"*")}},get:function(t){return i[t]||e[t]||i.embeds[t]},getInput:function(e){if(!n.multiFlash)return x.curInp;try{var t=x.getWrapper(x.get(e));if(t)return t.getElementsByTagName("input")[0]}catch(i){n.log('[err] Can not find "input" by flashId:',e,i)}},select:function(e){var a,r=x.getInput(e.flashId),s=n.uid(r),l=e.target.files;o(l,function(e){n.checkFileObj(e)}),b[s]=l,i.createEvent?(a=i.createEvent("Event"),a.files=l,a.initEvent("change",!0,!0),r.dispatchEvent(a)):t?t(r).trigger({type:"change",files:l}):(a=i.createEventObject(),a.files=l,r.fireEvent("onchange",a))},cmd:function(e,t,i,a){try{return n.log("(js -> flash)."+t+":",i),x.get(e.flashId||e).cmd(t,i)}catch(r){n.log("(js -> flash).onError:",r.toString()),a||setTimeout(function(){x.cmd(e,t,i,!0)},50)}},patch:function(){n.flashEngine=!0,u(n,{getFiles:function(e,t,i){if(i)return n.filterFiles(n.getFiles(e),t,i),null;var a=n.isArray(e)?e:b[n.uid(e.target||e.srcElement||e)];return a?(t&&(t=n.getFilesFilter(t),a=n.filter(a,function(e){return t.test(e.name)})),a):this.parent.apply(this,arguments)},getInfo:function(e,t){if(c(e))this.parent.apply(this,arguments);else if(e.isShot)t(null,e.info={width:e.width,height:e.height});else{if(!e.__info){var i=e.__info=n.defer();x.cmd(e,"getFileInfo",{id:e.id,callback:d(function a(t,n){p(a),i.resolve(t,e.info=n)})})}e.__info.then(t)}}}),n.support.transform=!0,n.Image&&u(n.Image.prototype,{get:function(e,t){return this.set({scaleMode:t||"noScale"}),this.parent(e)},_load:function(e,t){if(n.log("FlashAPI.Image._load:",e),c(e))this.parent.apply(this,arguments);else{var i=this;n.getInfo(e,function(n){t.call(i,n,e)})}},_apply:function(e,t){if(n.log("FlashAPI.Image._apply:",e),c(e))this.parent.apply(this,arguments);else{var i=this.getMatrix(e.info),a=t;x.cmd(e,"imageTransform",{id:e.id,matrix:i,callback:d(function r(o,s){n.log("FlashAPI.Image._apply.callback:",o),p(r),o?a(o):n.support.html5||n.support.dataURI&&!(s.length>3e4)?(i.filter&&(a=function(e,a){e?t(e):n.Image.applyFilter(a,i.filter,function(){t(e,this.canvas)})}),n.newImage("data:"+e.type+";base64,"+s,a)):h({width:i.deg%180?i.dh:i.dw,height:i.deg%180?i.dw:i.dh,scale:i.scaleMode},s,a)})})}},toData:function(e){var t=this.file,i=t.info,a=this.getMatrix(i);n.log("FlashAPI.Image.toData"),c(t)?this.parent.apply(this,arguments):("auto"==a.deg&&(a.deg=n.Image.exifOrientation[i&&i.exif&&i.exif.Orientation]||0),e.call(this,!t.info,{id:t.id,flashId:t.flashId,name:t.name,type:t.type,matrix:a}))}}),n.Image&&u(n.Image,{fromDataURL:function(e,t,i){!n.support.dataURI||e.length>3e4?h(n.extend({scale:"exactFit"},t),e.replace(/^data:[^,]+,/,""),function(e,t){i(t)}):this.parent(e,t,i)}}),u(n.Form.prototype,{toData:function(e){for(var t=this.items,i=t.length;i--;)if(t[i].file&&c(t[i].blob))return this.parent.apply(this,arguments);n.log("FlashAPI.Form.toData"),e(t)}}),u(n.XHR.prototype,{_send:function(e,t){if(t.nodeName||t.append&&n.support.html5||n.isArray(t)&&"string"==typeof t[0])return this.parent.apply(this,arguments);var i,a,r={},s={},l=this;if(o(t,function(e){e.file?(s[e.name]=e=m(e.blob),a=e.id,i=e.flashId):r[e.name]=e.blob}),a||(i=v),!i)return n.log("[err] FlashAPI._send: flashId -- undefined"),this.parent.apply(this,arguments);n.log("FlashAPI.XHR._send: "+i+" -> "+a),l.xhr={headers:{},abort:function(){x.cmd(i,"abort",{id:a})},getResponseHeader:function(e){return this.headers[e]},getAllResponseHeaders:function(){return this.headers}};var u=n.queue(function(){x.cmd(i,"upload",{url:f(e.url.replace(/([a-z]+)=(\?)&?/i,"")),data:r,files:a?s:null,headers:e.headers||{},callback:d(function t(i){var a=i.type,r=i.result;n.log("FlashAPI.upload."+a),"progress"==a?(i.loaded=Math.min(i.loaded,i.total),i.lengthComputable=!0,e.progress(i)):"complete"==a?(p(t),"string"==typeof r&&(l.responseText=r.replace(/%22/g,'"').replace(/%5c/g,"\\").replace(/%26/g,"&").replace(/%25/g,"%")),l.end(i.status||200)):("abort"==a||"error"==a)&&(l.end(i.status||0,i.message),p(t))})})});o(s,function(e){u.inc(),n.getInfo(e,u.next)}),u.check()}})}};n.Flash=x,n.newImage("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",function(e,t){n.support.dataURI=!(1!=t.width||1!=t.height),x.init()})}()}(window,window.jQuery,FileAPI),function(e,t,n){"use strict";var i=n.each,a=[];!n.support.flash||!n.media||n.support.media&&n.html5||!function(){function e(e){var t=e.wid=n.uid();return n.Flash._fn[t]=e,"FileAPI.Flash._fn."+t}function t(e){try{n.Flash._fn[e.wid]=null,delete n.Flash._fn[e.wid]}catch(t){}}var r=n.Flash;n.extend(n.Flash,{patchCamera:function(){n.Camera.fallback=function(i,a,o){var s=n.uid();n.log("FlashAPI.Camera.publish: "+s),r.publish(i,s,n.extend(a,{camera:!0,onEvent:e(function l(e){"camera"===e.type&&(t(l),e.error?(n.log("FlashAPI.Camera.publish.error: "+e.error),o(e.error)):(n.log("FlashAPI.Camera.publish.success: "+s),o(null)))})}))},i(a,function(e){n.Camera.fallback.apply(n.Camera,e)}),a=[],n.extend(n.Camera.prototype,{_id:function(){return this.video.id},start:function(i){var a=this;r.cmd(this._id(),"camera.on",{callback:e(function o(e){t(o),e.error?(n.log("FlashAPI.camera.on.error: "+e.error),i(e.error,a)):(n.log("FlashAPI.camera.on.success: "+a._id()),a._active=!0,i(null,a))})})},stop:function(){this._active=!1,r.cmd(this._id(),"camera.off")},shot:function(){n.log("FlashAPI.Camera.shot:",this._id());var e=n.Flash.cmd(this._id(),"shot",{});return e.type="image/png",e.flashId=this._id(),e.isShot=!0,new n.Camera.Shot(e)}})}}),n.Camera.fallback=function(){a.push(arguments)}}()}(window,window.jQuery,FileAPI),n(5)&&(i=[],a=function(){return FileAPI}.apply(t,i),!(void 0!==a&&(e.exports=a)))},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){/*!jQuery Knob*/
!function(t){e.exports=t(n(7))}(function(e){"use strict";var t={},n=Math.max,i=Math.min;t.c={},t.c.d=e(document),t.c.t=function(e){return e.originalEvent.touches.length-1},t.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var t=function(e,t){var i;for(i in t)n.o[i]=t[i];n._carve().init(),n._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=e.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:this.$.data("cursor")===!0&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(e){return e},parse:function(e){return parseFloat(e)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(t){var i=e(this);n.i[t]=i,n.v[t]=n.o.parse(i.val()),i.bind("change blur",function(){var e={};e[t]=i.val(),n.val(n._validate(e))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=e(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=e('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!==0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!==0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var e=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(e,t)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var e=!0;n.g=n.c,n.clear(),n.dH&&(e=n.dH()),e!==!1&&n.draw()},this._touch=function(e){var i=function(e){var t=n.xy2val(e.originalEvent.touches[n.t].pageX,e.originalEvent.touches[n.t].pageY);t!=n.cv&&(n.cH&&n.cH(t)===!1||(n.change(n._validate(t)),n._draw()))};return this.t=t.c.t(e),i(e),t.c.d.bind("touchmove.k",i).bind("touchend.k",function(){t.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(e){var i=function(e){var t=n.xy2val(e.pageX,e.pageY);t!=n.cv&&(n.cH&&n.cH(t)===!1||(n.change(n._validate(t)),n._draw()))};return i(e),t.c.d.bind("mousemove.k",i).bind("keyup.k",function(e){if(27===e.keyCode){if(t.c.d.unbind("mouseup.k mousemove.k keyup.k"),n.eH&&n.eH()===!1)return;n.cancel()}}).bind("mouseup.k",function(e){t.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var e=this.$c.offset();return this.x=e.left,this.y=e.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(e){e.preventDefault(),n._xy()._mouse(e)}).bind("touchstart",function(e){e.preventDefault(),n._xy()._touch(e)}),this.listen()),this.relative&&e(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(e){var t=~~((0>e?-.5:.5)+e/this.o.step)*this.o.step;return Math.round(100*t)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(e){},this.val=function(e){},this.xy2val=function(e,t){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(e,t){var n;return e=e.substring(1,7),n=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)],"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"},this.copy=function(e,t){for(var n in e)t[n]=e[n]}},t.Dial=function(){t.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(e,t){return null==e?this.v:(e=this.o.parse(e),void(t!==!1&&e!=this.v&&this.rH&&this.rH(e)===!1||(this.cv=this.o.stopper?n(i(e,this.o.max),this.o.min):e,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())))},this.xy2val=function(e,t){var a,r;return a=Math.atan2(e-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset,this.o.flip&&(a=this.angleArc-a-this.PI2),this.angleArc!=this.PI2&&0>a&&a>-.5?a=0:0>a&&(a+=this.PI2),r=a*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(r=n(i(r,this.o.max),this.o.min)),r},this.listen=function(){var t,a,r,o,s=this,l=function(e){e.preventDefault();var r=e.originalEvent,o=r.detail||r.wheelDeltaX,l=r.detail||r.wheelDeltaY,u=s._validate(s.o.parse(s.$.val()))+(o>0||l>0?s.o.step:0>o||0>l?-s.o.step:0);u=n(i(u,s.o.max),s.o.min),s.val(u,!1),s.rH&&(clearTimeout(t),t=setTimeout(function(){s.rH(u),t=null},100),a||(a=setTimeout(function(){t&&s.rH(u),a=null},200)))},u=1,c={37:-s.o.step,38:s.o.step,39:s.o.step,40:-s.o.step};this.$.bind("keydown",function(t){var a=t.keyCode;if(a>=96&&105>=a&&(a=t.keyCode=a-48),r=parseInt(String.fromCharCode(a)),isNaN(r)&&(13!==a&&8!==a&&9!==a&&189!==a&&(190!==a||s.$.val().match(/\./))&&t.preventDefault(),e.inArray(a,[37,38,39,40])>-1)){t.preventDefault();var l=s.o.parse(s.$.val())+c[a]*u;s.o.stopper&&(l=n(i(l,s.o.max),s.o.min)),s.change(s._validate(l)),s._draw(),o=window.setTimeout(function(){u*=2},30)}}).bind("keyup",function(e){isNaN(r)?o&&(window.clearTimeout(o),o=null,u=1,s.val(s.$.val())):s.$.val()>s.o.max&&s.$.val(s.o.max)||s.$.val()<s.o.min&&s.$.val(s.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",l),this.$.bind("mousewheel DOMMouseScroll",l)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var e=n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/e>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(e){this.cv=e,this.$.val(this.o.format(e))},this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(e){var t,n;return e=this.angle(e),this.o.flip?(t=this.endAngle+1e-5,n=t-e-1e-5):(t=this.startAngle-1e-5,n=t+e+1e-5),this.o.cursor&&(t=n-this.cursorExt)&&(n+=this.cursorExt),{s:t,e:n,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var e,t=this.g,n=this.arc(this.cv),i=1;t.lineWidth=this.lineWidth,t.lineCap=this.lineCap,"none"!==this.o.bgColor&&(t.beginPath(),t.strokeStyle=this.o.bgColor,t.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),t.stroke()),this.o.displayPrevious&&(e=this.arc(this.v),t.beginPath(),t.strokeStyle=this.pColor,t.arc(this.xy,this.xy,this.radius,e.s,e.e,e.d),t.stroke(),i=this.cv==this.v),t.beginPath(),t.strokeStyle=i?this.o.fgColor:this.fgColor,t.arc(this.xy,this.xy,this.radius,n.s,n.e,n.d),t.stroke()},this.cancel=function(){this.val(this.v)}},e.fn.dial=e.fn.knob=function(n){return this.each(function(){var i=new t.Dial;i.o=n,i.$=e(this),i.run()}).parent()}})},function(e,t,n){var i,a;/*!
	 * jQuery JavaScript Library v2.2.1
	 * http://jquery.com/
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-02-22T19:11Z
	 */
!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){function o(e){var t=!!e&&"length"in e&&e.length,n=ue.type(e);return"function"===n||ue.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function s(e,t,n){if(ue.isFunction(t))return ue.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ue.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(be.test(t))return ue.filter(t,e,n);t=ue.filter(t,e)}return ue.grep(e,function(e){return ie.call(t,e)>-1!==n})}function l(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return ue.each(e.match(Fe)||[],function(e,n){t[n]=!0}),t}function c(){Z.removeEventListener("DOMContentLoaded",c),n.removeEventListener("load",c),ue.ready()}function d(){this.expando=ue.expando+d.uid++}function p(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(je,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:$e.test(n)?ue.parseJSON(n):n}catch(a){}Ee.set(e,t,n)}else n=void 0;return n}function f(e,t,n,i){var a,r=1,o=20,s=i?function(){return i.cur()}:function(){return ue.css(e,t,"")},l=s(),u=n&&n[3]||(ue.cssNumber[t]?"":"px"),c=(ue.cssNumber[t]||"px"!==u&&+l)&&Me.exec(ue.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do r=r||".5",c/=r,ue.style(e,t,c+u);while(r!==(r=s()/l)&&1!==r&&--o)}return n&&(c=+c||+l||0,a=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=a)),a}function h(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ue.nodeName(e,t)?ue.merge([e],n):n}function m(e,t){for(var n=0,i=e.length;i>n;n++)Se.set(e[n],"globalEval",!t||Se.get(t[n],"globalEval"))}function g(e,t,n,i,a){for(var r,o,s,l,u,c,d=t.createDocumentFragment(),p=[],f=0,g=e.length;g>f;f++)if(r=e[f],r||0===r)if("object"===ue.type(r))ue.merge(p,r.nodeType?[r]:r);else if(He.test(r)){for(o=o||d.appendChild(t.createElement("div")),s=(Pe.exec(r)||["",""])[1].toLowerCase(),l=Oe[s]||Oe._default,o.innerHTML=l[1]+ue.htmlPrefilter(r)+l[2],c=l[0];c--;)o=o.lastChild;ue.merge(p,o.childNodes),o=d.firstChild,o.textContent=""}else p.push(t.createTextNode(r));for(d.textContent="",f=0;r=p[f++];)if(i&&ue.inArray(r,i)>-1)a&&a.push(r);else if(u=ue.contains(r.ownerDocument,r),o=h(d.appendChild(r),"script"),u&&m(o),n)for(c=0;r=o[c++];)Re.test(r.type||"")&&n.push(r);return d}function v(){return!0}function y(){return!1}function b(){try{return Z.activeElement}catch(e){}}function w(e,t,n,i,a,r){var o,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)w(e,s,n,i,t[s],r);return e}if(null==i&&null==a?(a=n,i=n=void 0):null==a&&("string"==typeof n?(a=i,i=void 0):(a=i,i=n,n=void 0)),a===!1)a=y;else if(!a)return e;return 1===r&&(o=a,a=function(e){return ue().off(e),o.apply(this,arguments)},a.guid=o.guid||(o.guid=ue.guid++)),e.each(function(){ue.event.add(this,t,a,i,n)})}function x(e,t){return ue.nodeName(e,"table")&&ue.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function A(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){var n,i,a,r,o,s,l,u;if(1===t.nodeType){if(Se.hasData(e)&&(r=Se.access(e),o=Se.set(t,r),u=r.events)){delete o.handle,o.events={};for(a in u)for(n=0,i=u[a].length;i>n;n++)ue.event.add(t,a,u[a][n])}Ee.hasData(e)&&(s=Ee.access(e),l=ue.extend({},s),Ee.set(t,l))}}function F(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ne.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function T(e,t,n,i){t=te.apply([],t);var a,r,o,s,l,u,c=0,d=e.length,p=d-1,f=t[0],m=ue.isFunction(f);if(m||d>1&&"string"==typeof f&&!se.checkClone&&Ge.test(f))return e.each(function(a){var r=e.eq(a);m&&(t[0]=f.call(this,a,r.html())),T(r,t,n,i)});if(d&&(a=g(t,e[0].ownerDocument,!1,e,i),r=a.firstChild,1===a.childNodes.length&&(a=r),r||i)){for(o=ue.map(h(a,"script"),C),s=o.length;d>c;c++)l=a,c!==p&&(l=ue.clone(l,!0,!0),s&&ue.merge(o,h(l,"script"))),n.call(e[c],l,c);if(s)for(u=o[o.length-1].ownerDocument,ue.map(o,A),c=0;s>c;c++)l=o[c],Re.test(l.type||"")&&!Se.access(l,"globalEval")&&ue.contains(u,l)&&(l.src?ue._evalUrl&&ue._evalUrl(l.src):ue.globalEval(l.textContent.replace(Ye,"")))}return e}function _(e,t,n){for(var i,a=t?ue.filter(t,e):e,r=0;null!=(i=a[r]);r++)n||1!==i.nodeType||ue.cleanData(h(i)),i.parentNode&&(n&&ue.contains(i.ownerDocument,i)&&m(h(i,"script")),i.parentNode.removeChild(i));return e}function I(e,t){var n=ue(t.createElement(e)).appendTo(t.body),i=ue.css(n[0],"display");return n.detach(),i}function S(e){var t=Z,n=Qe[e];return n||(n=I(e,t),"none"!==n&&n||(Je=(Je||ue("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Je[0].contentDocument,t.write(),t.close(),n=I(e,t),Je.detach()),Qe[e]=n),n}function E(e,t,n){var i,a,r,o,s=e.style;return n=n||et(e),o=n?n.getPropertyValue(t)||n[t]:void 0,""!==o&&void 0!==o||ue.contains(e.ownerDocument,e)||(o=ue.style(e,t)),n&&!se.pixelMarginRight()&&Ze.test(o)&&Ke.test(t)&&(i=s.width,a=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=a,s.maxWidth=r),void 0!==o?o+"":o}function $(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function j(e){if(e in st)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ot.length;n--;)if(e=ot[n]+t,e in st)return e}function D(e,t,n){var i=Me.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function M(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=ue.css(e,n+Be[r],!0,a)),i?("content"===n&&(o-=ue.css(e,"padding"+Be[r],!0,a)),"margin"!==n&&(o-=ue.css(e,"border"+Be[r]+"Width",!0,a))):(o+=ue.css(e,"padding"+Be[r],!0,a),"padding"!==n&&(o+=ue.css(e,"border"+Be[r]+"Width",!0,a)));return o}function B(e,t,i){var a=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=et(e),s="border-box"===ue.css(e,"boxSizing",!1,o);if(Z.msFullscreenElement&&n.top!==n&&e.getClientRects().length&&(r=Math.round(100*e.getBoundingClientRect()[t])),0>=r||null==r){if(r=E(e,t,o),(0>r||null==r)&&(r=e.style[t]),Ze.test(r))return r;a=s&&(se.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+M(e,t,i||(s?"border":"content"),a,o)+"px"}function L(e,t){for(var n,i,a,r=[],o=0,s=e.length;s>o;o++)i=e[o],i.style&&(r[o]=Se.get(i,"olddisplay"),n=i.style.display,t?(r[o]||"none"!==n||(i.style.display=""),""===i.style.display&&Le(i)&&(r[o]=Se.access(i,"olddisplay",S(i.nodeName)))):(a=Le(i),"none"===n&&a||Se.set(i,"olddisplay",a?n:ue.css(i,"display"))));for(o=0;s>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[o]||"":"none"));return e}function N(e,t,n,i,a){return new N.prototype.init(e,t,n,i,a)}function P(){return n.setTimeout(function(){lt=void 0}),lt=ue.now()}function R(e,t){var n,i=0,a={height:e};for(t=t?1:0;4>i;i+=2-t)n=Be[i],a["margin"+n]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function O(e,t,n){for(var i,a=(z.tweeners[t]||[]).concat(z.tweeners["*"]),r=0,o=a.length;o>r;r++)if(i=a[r].call(n,t,e))return i}function H(e,t,n){var i,a,r,o,s,l,u,c,d=this,p={},f=e.style,h=e.nodeType&&Le(e),m=Se.get(e,"fxshow");n.queue||(s=ue._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ue.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ue.css(e,"display"),c="none"===u?Se.get(e,"olddisplay")||S(e.nodeName):u,"inline"===c&&"none"===ue.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],ct.exec(a)){if(delete t[i],r=r||"toggle"===a,a===(h?"hide":"show")){if("show"!==a||!m||void 0===m[i])continue;h=!0}p[i]=m&&m[i]||ue.style(e,i)}else u=void 0;if(ue.isEmptyObject(p))"inline"===("none"===u?S(e.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(h=m.hidden):m=Se.access(e,"fxshow",{}),r&&(m.hidden=!h),h?ue(e).show():d.done(function(){ue(e).hide()}),d.done(function(){var t;Se.remove(e,"fxshow");for(t in p)ue.style(e,t,p[t])});for(i in p)o=O(h?m[i]:0,i,d),i in m||(m[i]=o.start,h&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function U(e,t){var n,i,a,r,o;for(n in e)if(i=ue.camelCase(n),a=t[i],r=e[n],ue.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),o=ue.cssHooks[i],o&&"expand"in o){r=o.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=a)}else t[i]=a}function z(e,t,n){var i,a,r=0,o=z.prefilters.length,s=ue.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=lt||P(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,r=1-i,o=0,l=u.tweens.length;l>o;o++)u.tweens[o].run(r);return s.notifyWith(e,[u,r,n]),1>r&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{},easing:ue.easing._default},n),originalProperties:t,originalOptions:n,startTime:lt||P(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ue.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(U(c,u.opts.specialEasing);o>r;r++)if(i=z.prefilters[r].call(u,e,c,u.opts))return ue.isFunction(i.stop)&&(ue._queueHooks(u.elem,u.opts.queue).stop=ue.proxy(i.stop,i)),i;return ue.map(c,O,u),ue.isFunction(u.opts.start)&&u.opts.start.call(e,u),ue.fx.timer(ue.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function q(e){return e.getAttribute&&e.getAttribute("class")||""}function W(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,r=t.toLowerCase().match(Fe)||[];if(ue.isFunction(n))for(;i=r[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function X(e,t,n,i){function a(s){var l;return r[s]=!0,ue.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)}),l}var r={},o=e===St;return a(t.dataTypes[0])||!r["*"]&&a("*")}function G(e,t){var n,i,a=ue.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:i||(i={}))[n]=t[n]);return i&&ue.extend(!0,e,i),e}function V(e,t,n){for(var i,a,r,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}o||(o=a)}r=r||o}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function Y(e,t,n,i){var a,r,o,s,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(o=u[l+" "+r]||u["* "+r],!o)for(a in u)if(s=a.split(" "),s[1]===r&&(o=u[l+" "+s[0]]||u["* "+s[0]])){o===!0?o=u[a]:u[a]!==!0&&(r=s[0],c.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function J(e,t,n,i){var a;if(ue.isArray(t))ue.each(t,function(t,a){n||Dt.test(e)?i(e,a):J(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,n,i)});else if(n||"object"!==ue.type(t))i(e,t);else for(a in t)J(e+"["+a+"]",t[a],n,i)}function Q(e){return ue.isWindow(e)?e:9===e.nodeType&&e.defaultView}var K=[],Z=n.document,ee=K.slice,te=K.concat,ne=K.push,ie=K.indexOf,ae={},re=ae.toString,oe=ae.hasOwnProperty,se={},le="2.2.1",ue=function(e,t){return new ue.fn.init(e,t)},ce=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,de=/^-ms-/,pe=/-([\da-z])/gi,fe=function(e,t){return t.toUpperCase()};ue.fn=ue.prototype={jquery:le,constructor:ue,selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:ee.call(this)},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ue.each(this,e)},map:function(e){return this.pushStack(ue.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ne,sort:K.sort,splice:K.splice},ue.extend=ue.fn.extend=function(){var e,t,n,i,a,r,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||ue.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],i=e[t],o!==i&&(u&&i&&(ue.isPlainObject(i)||(a=ue.isArray(i)))?(a?(a=!1,r=n&&ue.isArray(n)?n:[]):r=n&&ue.isPlainObject(n)?n:{},o[t]=ue.extend(u,r,i)):void 0!==i&&(o[t]=i));return o},ue.extend({expando:"jQuery"+(le+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!ue.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){return"object"!==ue.type(e)||e.nodeType||ue.isWindow(e)?!1:!e.constructor||oe.call(e.constructor.prototype,"isPrototypeOf")},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ae[re.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=ue.trim(e),e&&(1===e.indexOf("use strict")?(t=Z.createElement("script"),t.text=e,Z.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(de,"ms-").replace(pe,fe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(o(e))for(n=e.length;n>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ce,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(o(Object(e))?ue.merge(n,"string"==typeof e?[e]:e):ne.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ie.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;n>i;i++)e[a++]=t[i];return e.length=a,e},grep:function(e,t,n){for(var i,a=[],r=0,o=e.length,s=!n;o>r;r++)i=!t(e[r],r),i!==s&&a.push(e[r]);return a},map:function(e,t,n){var i,a,r=0,s=[];if(o(e))for(i=e.length;i>r;r++)a=t(e[r],r,n),null!=a&&s.push(a);else for(r in e)a=t(e[r],r,n),null!=a&&s.push(a);return te.apply([],s)},guid:1,proxy:function(e,t){var n,i,a;return"string"==typeof t&&(n=e[t],t=e,e=n),ue.isFunction(e)?(i=ee.call(arguments,2),a=function(){return e.apply(t||this,i.concat(ee.call(arguments)))},a.guid=e.guid=e.guid||ue.guid++,a):void 0},now:Date.now,support:se}),"function"==typeof Symbol&&(ue.fn[Symbol.iterator]=K[Symbol.iterator]),ue.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ae["[object "+t+"]"]=t.toLowerCase()});var he=/*!
	 * Sizzle CSS Selector Engine v2.2.1
	 * http://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2015-10-17
	 */
function(e){function t(e,t,n,i){var a,r,o,s,l,u,d,f,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&((t?t.ownerDocument||t:O)!==j&&$(t),t=t||j,M)){if(11!==m&&(u=ve.exec(e)))if(a=u[1]){if(9===m){if(!(o=t.getElementById(a)))return n;if(o.id===a)return n.push(o),n}else if(h&&(o=h.getElementById(a))&&P(t,o)&&o.id===a)return n.push(o),n}else{if(u[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=u[3])&&x.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&!W[e+" "]&&(!B||!B.test(e))){if(1!==m)h=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=R),d=F(e),r=d.length,l=pe.test(s)?"#"+s:"[id='"+s+"']";r--;)d[r]=l+" "+p(d[r]);f=d.join(","),h=ye.test(e)&&c(t.parentNode)||t}if(f)try{return K.apply(n,h.querySelectorAll(f)),n}catch(g){}finally{s===R&&t.removeAttribute("id")}}}return _(e.replace(se,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[R]=!0,e}function a(e){var t=j.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var a,r=e([],n.length,t),o=r.length;o--;)n[a=r[o]]&&(n[a]=!(i[a]=n[a]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,a=n&&"parentNode"===i,r=U++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r)}:function(t,n,o){var s,l,u,c=[H,r];if(o){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||a){if(u=t[R]||(t[R]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(s=l[i])&&s[0]===H&&s[1]===r)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,o))return!0}}}function h(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var a=0,r=n.length;r>a;a++)t(e,n[a],i);return i}function g(e,t,n,i,a){for(var r,o=[],s=0,l=e.length,u=null!=t;l>s;s++)(r=e[s])&&(n&&!n(r,i,a)||(o.push(r),u&&t.push(s)));return o}function v(e,t,n,a,r,o){return a&&!a[R]&&(a=v(a)),r&&!r[R]&&(r=v(r,o)),i(function(i,o,s,l){var u,c,d,p=[],f=[],h=o.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,p,e,s,l),b=n?r||(i?e:h||a)?[]:o:y;if(n&&n(y,b,s,l),a)for(u=g(b,f),a(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[f[c]]=!(y[f[c]]=d));if(i){if(r||e){if(r){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);r(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=r?ee(i,d):p[c])>-1&&(i[u]=!(o[u]=d))}}else b=g(b===o?b.splice(h,b.length):b),r?r(null,o,b,l):K.apply(o,b)})}function y(e){for(var t,n,i,a=e.length,r=C.relative[e[0].type],o=r||C.relative[" "],s=r?1:0,l=f(function(e){return e===t},o,!0),u=f(function(e){return ee(t,e)>-1},o,!0),c=[function(e,n,i){var a=!r&&(i||n!==I)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,a}];a>s;s++)if(n=C.relative[e[s].type])c=[f(h(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[R]){for(i=++s;a>i&&!C.relative[e[i].type];i++);return v(s>1&&h(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&y(e.slice(s,i)),a>i&&y(e=e.slice(i)),a>i&&p(e))}c.push(n)}return h(c)}function b(e,n){var a=n.length>0,r=e.length>0,o=function(i,o,s,l,u){var c,d,p,f=0,h="0",m=i&&[],v=[],y=I,b=i||r&&C.find.TAG("*",u),w=H+=null==y?1:Math.random()||.1,x=b.length;for(u&&(I=o===j||o||u);h!==x&&null!=(c=b[h]);h++){if(r&&c){for(d=0,o||c.ownerDocument===j||($(c),s=!M);p=e[d++];)if(p(c,o||j,s)){l.push(c);break}u&&(H=w)}a&&((c=!p&&c)&&f--,i&&m.push(c))}if(f+=h,a&&h!==f){for(d=0;p=n[d++];)p(m,v,o,s);if(i){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=J.call(l));v=g(v)}K.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(H=w,I=y),m};return a?i(o):o}var w,x,C,A,k,F,T,_,I,S,E,$,j,D,M,B,L,N,P,R="sizzle"+1*new Date,O=e.document,H=0,U=0,z=n(),q=n(),W=n(),X=function(e,t){return e===t&&(E=!0),0},G=1<<31,V={}.hasOwnProperty,Y=[],J=Y.pop,Q=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",re=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",oe=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(re),pe=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){$()};try{K.apply(Y=Z.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(Ae){K={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},$=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:O;return i!==j&&9===i.nodeType&&i.documentElement?(j=i,D=j.documentElement,M=!k(j),(n=j.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),x.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=a(function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(j.getElementsByClassName),x.getById=a(function(e){return D.appendChild(e).id=R,!j.getElementsByName||!j.getElementsByName(R).length}),x.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&M){var n=t.getElementById(e);return n?[n]:[]}},C.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[a++];)1===n.nodeType&&i.push(n);return i}return r},C.find.CLASS=x.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&M?t.getElementsByClassName(e):void 0},L=[],B=[],(x.qsa=ge.test(j.querySelectorAll))&&(a(function(e){D.appendChild(e).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&B.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||B.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+R+"-]").length||B.push("~="),e.querySelectorAll(":checked").length||B.push(":checked"),e.querySelectorAll("a#"+R+"+*").length||B.push(".#.+[+~]")}),a(function(e){var t=j.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&B.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||B.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),B.push(",.*:")})),(x.matchesSelector=ge.test(N=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&a(function(e){x.disconnectedMatch=N.call(e,"div"),N.call(e,"[s!='']:x"),L.push("!=",re)}),B=B.length&&new RegExp(B.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(D.compareDocumentPosition),P=t||ge.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return E=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===j||e.ownerDocument===O&&P(O,e)?-1:t===j||t.ownerDocument===O&&P(O,t)?1:S?ee(S,e)-ee(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return E=!0,0;var n,i=0,a=e.parentNode,r=t.parentNode,s=[e],l=[t];if(!a||!r)return e===j?-1:t===j?1:a?-1:r?1:S?ee(S,e)-ee(S,t):0;if(a===r)return o(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?o(s[i],l[i]):s[i]===O?-1:l[i]===O?1:0},j):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&$(e),n=n.replace(ce,"='$1']"),x.matchesSelector&&M&&!W[n+" "]&&(!L||!L.test(n))&&(!B||!B.test(n)))try{var i=N.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(a){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&$(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&$(e);var n=C.attrHandle[t.toLowerCase()],i=n&&V.call(C.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==i?i:x.attributes||!M?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,a=0;if(E=!x.detectDuplicates,S=!x.sortStable&&e.slice(0),e.sort(X),E){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return S=null,e},A=t.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=A(t);return n},C=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=F(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(a){var r=t.attr(a,e);return null==r?"!="===n:n?(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(oe," ")+" ").indexOf(i)>-1:"|="===n?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,a){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,f,h,m=r!==o?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(r){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?g.firstChild:g.lastChild],o&&y){for(p=g,d=p[R]||(p[R]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[e]||[],f=u[0]===H&&u[1],b=f&&u[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(b=f=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[H,f,b];break}}else if(y&&(p=t,d=p[R]||(p[R]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[e]||[],f=u[0]===H&&u[1],b=f),b===!1)for(;(p=++f&&p&&p[m]||(b=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(y&&(d=p[R]||(p[R]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),c[e]=[H,b]),p!==t)););return b-=a,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(e,n){var a,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[R]?r(n):r.length>1?(a=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,a=r(e,n),o=a.length;o--;)i=ee(e,a[o]),e[i]=!(t[i]=a[o])}):function(e){return r(e,0,a)}):r}},pseudos:{not:i(function(e){var t=[],n=[],a=T(e.replace(se,"$1"));return a[R]?i(function(e,t,n,i){for(var r,o=a(e,null,i,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,i,r){return t[0]=e,a(t,null,r,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,xe),function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var n;do if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,F=t.tokenize=function(e,n){var i,a,r,o,s,l,u,c=q[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=C.preFilter;s;){i&&!(a=le.exec(s))||(a&&(s=s.slice(a[0].length)||s),l.push(r=[])),i=!1,(a=ue.exec(s))&&(i=a.shift(),r.push({value:i,type:a[0].replace(se," ")}),s=s.slice(i.length));for(o in C.filter)!(a=fe[o].exec(s))||u[o]&&!(a=u[o](a))||(i=a.shift(),r.push({value:i,type:o,matches:a}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):q(e,l).slice(0)},T=t.compile=function(e,t){var n,i=[],a=[],r=W[e+" "];if(!r){for(t||(t=F(e)),n=t.length;n--;)r=y(t[n]),r[R]?i.push(r):a.push(r);r=W(e,b(a,i)),r.selector=e}return r},_=t.select=function(e,t,n,i){var a,r,o,s,l,u="function"==typeof e&&e,d=!i&&F(e=u.selector||e);if(n=n||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&x.getById&&9===t.nodeType&&M&&C.relative[r[1].type]){if(t=(C.find.ID(o.matches[0].replace(we,xe),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(a=fe.needsContext.test(e)?0:r.length;a--&&(o=r[a],!C.relative[s=o.type]);)if((l=C.find[s])&&(i=l(o.matches[0].replace(we,xe),ye.test(r[0].type)&&c(t.parentNode)||t))){if(r.splice(a,1),e=i.length&&p(r),!e)return K.apply(n,i),n;break}}return(u||T(e,d))(i,t,!M,n,!t||ye.test(e)&&c(t.parentNode)||t),n},x.sortStable=R.split("").sort(X).join("")===R,x.detectDuplicates=!!E,$(),x.sortDetached=a(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(n);ue.find=he,ue.expr=he.selectors,ue.expr[":"]=ue.expr.pseudos,ue.uniqueSort=ue.unique=he.uniqueSort,ue.text=he.getText,ue.isXMLDoc=he.isXML,ue.contains=he.contains;var me=function(e,t,n){for(var i=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&ue(e).is(n))break;i.push(e)}return i},ge=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ve=ue.expr.match.needsContext,ye=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,be=/^.[^:#\[\.,]*$/;ue.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ue.find.matchesSelector(i,e)?[i]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},ue.fn.extend({find:function(e){var t,n=this.length,i=[],a=this;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;n>t;t++)if(ue.contains(a[t],this))return!0}));for(t=0;n>t;t++)ue.find(e,a[t],i);return i=this.pushStack(n>1?ue.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ve.test(e)?ue(e):e||[],!1).length}});var we,xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Ce=ue.fn.init=function(e,t,n){var i,a;if(!e)return this;if(n=n||we,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:xe.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ue?t[0]:t,ue.merge(this,ue.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),ye.test(i[1])&&ue.isPlainObject(t))for(i in t)ue.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return a=Z.getElementById(i[2]),a&&a.parentNode&&(this.length=1,this[0]=a),this.context=Z,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ue.isFunction(e)?void 0!==n.ready?n.ready(e):e(ue):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ue.makeArray(e,this))};Ce.prototype=ue.fn,we=ue(Z);var Ae=/^(?:parents|prev(?:Until|All))/,ke={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({has:function(e){var t=ue(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(ue.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,a=this.length,r=[],o=ve.test(e)||"string"!=typeof e?ue(e,t||this.context):0;a>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&ue.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ue.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?ie.call(ue(e),this[0]):ie.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ue.uniqueSort(ue.merge(this.get(),ue(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return me(e,"parentNode")},parentsUntil:function(e,t,n){return me(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return me(e,"nextSibling")},prevAll:function(e){return me(e,"previousSibling")},nextUntil:function(e,t,n){return me(e,"nextSibling",n)},prevUntil:function(e,t,n){return me(e,"previousSibling",n)},siblings:function(e){return ge((e.parentNode||{}).firstChild,e)},children:function(e){return ge(e.firstChild)},contents:function(e){return e.contentDocument||ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(n,i){var a=ue.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=ue.filter(i,a)),this.length>1&&(ke[e]||ue.uniqueSort(a),Ae.test(e)&&a.reverse()),this.pushStack(a)}});var Fe=/\S+/g;ue.Callbacks=function(e){e="string"==typeof e?u(e):ue.extend({},e);var t,n,i,a,r=[],o=[],s=-1,l=function(){for(a=e.once,i=t=!0;o.length;s=-1)for(n=o.shift();++s<r.length;)r[s].apply(n[0],n[1])===!1&&e.stopOnFalse&&(s=r.length,n=!1);e.memory||(n=!1),t=!1,a&&(r=n?[]:"")},c={add:function(){return r&&(n&&!t&&(s=r.length-1,o.push(n)),function i(t){ue.each(t,function(t,n){ue.isFunction(n)?e.unique&&c.has(n)||r.push(n):n&&n.length&&"string"!==ue.type(n)&&i(n)})}(arguments),n&&!t&&l()),this},remove:function(){return ue.each(arguments,function(e,t){for(var n;(n=ue.inArray(t,r,n))>-1;)r.splice(n,1),s>=n&&s--}),this},has:function(e){return e?ue.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return a=o=[],r=n="",this},disabled:function(){return!r},lock:function(){return a=o=[],n||(r=n=""),this},locked:function(){return!!a},fireWith:function(e,n){return a||(n=n||[],n=[e,n.slice?n.slice():n],o.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ue.extend({Deferred:function(e){var t=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ue.Deferred(function(n){ue.each(t,function(t,r){var o=ue.isFunction(e[t])&&e[t];a[r[1]](function(){var e=o&&o.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ue.extend(e,i):i}},a={};return i.pipe=i.then,ue.each(t,function(e,r){var o=r[2],s=r[3];i[r[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?i:this,arguments),this},a[r[0]+"With"]=o.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,r=ee.call(arguments),o=r.length,s=1!==o||e&&ue.isFunction(e.promise)?o:0,l=1===s?e:ue.Deferred(),u=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?ee.call(arguments):a,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>a;a++)r[a]&&ue.isFunction(r[a].promise)?r[a].promise().progress(u(a,n,t)).done(u(a,i,r)).fail(l.reject):--s;return s||l.resolveWith(i,r),l.promise()}});var Te;ue.fn.ready=function(e){return ue.ready.promise().done(e),this},ue.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){(e===!0?--ue.readyWait:ue.isReady)||(ue.isReady=!0,e!==!0&&--ue.readyWait>0||(Te.resolveWith(Z,[ue]),ue.fn.triggerHandler&&(ue(Z).triggerHandler("ready"),ue(Z).off("ready"))))}}),ue.ready.promise=function(e){return Te||(Te=ue.Deferred(),"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?n.setTimeout(ue.ready):(Z.addEventListener("DOMContentLoaded",c),n.addEventListener("load",c))),Te.promise(e)},ue.ready.promise();var _e=function(e,t,n,i,a,r,o){var s=0,l=e.length,u=null==n;if("object"===ue.type(n)){a=!0;for(s in n)_e(e,t,s,n[s],!0,r,o)}else if(void 0!==i&&(a=!0,ue.isFunction(i)||(o=!0),u&&(o?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(ue(e),n)})),t))for(;l>s;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return a?e:u?t.call(e):l?t(e[0],n):r},Ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};d.uid=1,d.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ie(e))return{};var t=e[this.expando];return t||(t={},Ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,a=this.cache(e);if("string"==typeof t)a[t]=n;else for(i in t)a[i]=t[i];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,ue.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,a,r=e[this.expando];if(void 0!==r){if(void 0===t)this.register(e);else{ue.isArray(t)?i=t.concat(t.map(ue.camelCase)):(a=ue.camelCase(t),t in r?i=[t,a]:(i=a,i=i in r?[i]:i.match(Fe)||[])),n=i.length;for(;n--;)delete r[i[n]]}(void 0===t||ue.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ue.isEmptyObject(t)}};var Se=new d,Ee=new d,$e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,je=/[A-Z]/g;ue.extend({hasData:function(e){return Ee.hasData(e)||Se.hasData(e)},data:function(e,t,n){return Ee.access(e,t,n)},removeData:function(e,t){Ee.remove(e,t)},_data:function(e,t,n){return Se.access(e,t,n)},_removeData:function(e,t){Se.remove(e,t)}}),ue.fn.extend({data:function(e,t){var n,i,a,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length&&(a=Ee.get(r),1===r.nodeType&&!Se.get(r,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=ue.camelCase(i.slice(5)),p(r,i,a[i])));Se.set(r,"hasDataAttrs",!0)}return a}return"object"==typeof e?this.each(function(){Ee.set(this,e)}):_e(this,function(t){var n,i;if(r&&void 0===t){if(n=Ee.get(r,e)||Ee.get(r,e.replace(je,"-$&").toLowerCase()),void 0!==n)return n;if(i=ue.camelCase(e),n=Ee.get(r,i),void 0!==n)return n;if(n=p(r,i,void 0),void 0!==n)return n}else i=ue.camelCase(e),this.each(function(){var n=Ee.get(this,i);Ee.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&Ee.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ee.remove(this,e)})}}),ue.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Se.get(e,t),n&&(!i||ue.isArray(n)?i=Se.access(e,t,ue.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ue.queue(e,t),i=n.length,a=n.shift(),r=ue._queueHooks(e,t),o=function(){ue.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,o,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Se.get(e,n)||Se.access(e,n,{empty:ue.Callbacks("once memory").add(function(){Se.remove(e,[t+"queue",n])})})}}),ue.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ue.queue(this[0],e):void 0===t?this:this.each(function(){var n=ue.queue(this,e,t);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=ue.Deferred(),r=this,o=this.length,s=function(){--i||a.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=Se.get(r[o],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),a.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Me=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),Be=["Top","Right","Bottom","Left"],Le=function(e,t){return e=t||e,"none"===ue.css(e,"display")||!ue.contains(e.ownerDocument,e)},Ne=/^(?:checkbox|radio)$/i,Pe=/<([\w:-]+)/,Re=/^$|\/(?:java|ecma)script/i,Oe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Oe.optgroup=Oe.option,Oe.tbody=Oe.tfoot=Oe.colgroup=Oe.caption=Oe.thead,Oe.th=Oe.td;var He=/<|&#?\w+;/;!function(){var e=Z.createDocumentFragment(),t=e.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),se.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ue=/^key/,ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qe=/^([^.]*)(?:\.(.+)|)/;ue.event={global:{},add:function(e,t,n,i,a){var r,o,s,l,u,c,d,p,f,h,m,g=Se.get(e);if(g)for(n.handler&&(r=n,n=r.handler,a=r.selector),n.guid||(n.guid=ue.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(t){return"undefined"!=typeof ue&&ue.event.triggered!==t.type?ue.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Fe)||[""],u=t.length;u--;)s=qe.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=ue.event.special[f]||{},f=(a?d.delegateType:d.bindType)||f,d=ue.event.special[f]||{},c=ue.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&ue.expr.match.needsContext.test(a),namespace:h.join(".")},r),(p=l[f])||(p=l[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,h,o)!==!1||e.addEventListener&&e.addEventListener(f,o)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),a?p.splice(p.delegateCount++,0,c):p.push(c),ue.event.global[f]=!0)},remove:function(e,t,n,i,a){var r,o,s,l,u,c,d,p,f,h,m,g=Se.hasData(e)&&Se.get(e);if(g&&(l=g.events)){for(t=(t||"").match(Fe)||[""],u=t.length;u--;)if(s=qe.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=ue.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=p.length;r--;)c=p[r],!a&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(r,1),
c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));o&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ue.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)ue.event.remove(e,f+t[u],n,i,!0);ue.isEmptyObject(l)&&Se.remove(e,"handle events")}},dispatch:function(e){e=ue.event.fix(e);var t,n,i,a,r,o=[],s=ee.call(arguments),l=(Se.get(this,"events")||{})[e.type]||[],u=ue.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(o=ue.event.handlers.call(this,e,l),t=0;(a=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,n=0;(r=a.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(r.namespace)||(e.handleObj=r,e.data=r.data,i=((ue.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,a,r,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],n=0;s>n;n++)r=t[n],a=r.selector+" ",void 0===i[a]&&(i[a]=r.needsContext?ue(a,this).index(l)>-1:ue.find(a,this,null,[l]).length),i[a]&&i.push(r);i.length&&o.push({elem:l,handlers:i})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,a,r=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Z,i=n.documentElement,a=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[ue.expando])return e;var t,n,i,a=e.type,r=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=ze.test(a)?this.mouseHooks:Ue.test(a)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new ue.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=Z),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==b()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===b()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ue.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ue.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ue.Event=function(e,t){return this instanceof ue.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?v:y):this.type=e,t&&ue.extend(this,t),this.timeStamp=e&&e.timeStamp||ue.now(),void(this[ue.expando]=!0)):new ue.Event(e,t)},ue.Event.prototype={constructor:ue.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&e.stopImmediatePropagation(),this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,r=e.handleObj;return a&&(a===i||ue.contains(i,a))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ue.fn.extend({on:function(e,t,n,i){return w(this,e,t,n,i)},one:function(e,t,n,i){return w(this,e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ue(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=y),this.each(function(){ue.event.remove(this,e,n,t)})}});var We=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Xe=/<script|<style|<link/i,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ue.extend({htmlPrefilter:function(e){return e.replace(We,"<$1></$2>")},clone:function(e,t,n){var i,a,r,o,s=e.cloneNode(!0),l=ue.contains(e.ownerDocument,e);if(!(se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(o=h(s),r=h(e),i=0,a=r.length;a>i;i++)F(r[i],o[i]);if(t)if(n)for(r=r||h(e),o=o||h(s),i=0,a=r.length;a>i;i++)k(r[i],o[i]);else k(e,s);return o=h(s,"script"),o.length>0&&m(o,!l&&h(e,"script")),s},cleanData:function(e){for(var t,n,i,a=ue.event.special,r=0;void 0!==(n=e[r]);r++)if(Ie(n)){if(t=n[Se.expando]){if(t.events)for(i in t.events)a[i]?ue.event.remove(n,i):ue.removeEvent(n,i,t.handle);n[Se.expando]=void 0}n[Ee.expando]&&(n[Ee.expando]=void 0)}}}),ue.fn.extend({domManip:T,detach:function(e){return _(this,e,!0)},remove:function(e){return _(this,e)},text:function(e){return _e(this,function(e){return void 0===e?ue.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=x(this,e);t.appendChild(e)}})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=x(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ue.cleanData(h(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return _e(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Xe.test(e)&&!Oe[(Pe.exec(e)||["",""])[1].toLowerCase()]){e=ue.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(ue.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return T(this,arguments,function(t){var n=this.parentNode;ue.inArray(this,e)<0&&(ue.cleanData(h(this)),n&&n.replaceChild(t,this))},e)}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var n,i=[],a=ue(e),r=a.length-1,o=0;r>=o;o++)n=o===r?this:this.clone(!0),ue(a[o])[t](n),ne.apply(i,n.get());return this.pushStack(i)}});var Je,Qe={HTML:"block",BODY:"block"},Ke=/^margin/,Ze=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),et=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},tt=function(e,t,n,i){var a,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];a=n.apply(e,i||[]);for(r in t)e.style[r]=o[r];return a},nt=Z.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",nt.appendChild(o);var e=n.getComputedStyle(s);t="1%"!==e.top,r="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",a="4px"===e.marginRight,nt.removeChild(o)}var t,i,a,r,o=Z.createElement("div"),s=Z.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),ue.extend(se,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),a},reliableMarginLeft:function(){return null==i&&e(),r},reliableMarginRight:function(){var e,t=s.appendChild(Z.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",nt.appendChild(o),e=!parseFloat(n.getComputedStyle(t).marginRight),nt.removeChild(o),s.removeChild(t),e}}))}();var it=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"},ot=["Webkit","O","Moz","ms"],st=Z.createElement("div").style;ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=E(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,o,s=ue.camelCase(t),l=e.style;return t=ue.cssProps[s]||(ue.cssProps[s]=j(s)||s),o=ue.cssHooks[t]||ue.cssHooks[s],void 0===n?o&&"get"in o&&void 0!==(a=o.get(e,!1,i))?a:l[t]:(r=typeof n,"string"===r&&(a=Me.exec(n))&&a[1]&&(n=f(e,t,a),r="number"),null!=n&&n===n&&("number"===r&&(n+=a&&a[3]||(ue.cssNumber[s]?"":"px")),se.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var a,r,o,s=ue.camelCase(t);return t=ue.cssProps[s]||(ue.cssProps[s]=j(s)||s),o=ue.cssHooks[t]||ue.cssHooks[s],o&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=E(e,t,i)),"normal"===a&&t in rt&&(a=rt[t]),""===n||n?(r=parseFloat(a),n===!0||isFinite(r)?r||0:a):a}}),ue.each(["height","width"],function(e,t){ue.cssHooks[t]={get:function(e,n,i){return n?it.test(ue.css(e,"display"))&&0===e.offsetWidth?tt(e,at,function(){return B(e,t,i)}):B(e,t,i):void 0},set:function(e,n,i){var a,r=i&&et(e),o=i&&M(e,t,i,"border-box"===ue.css(e,"boxSizing",!1,r),r);return o&&(a=Me.exec(n))&&"px"!==(a[3]||"px")&&(e.style[t]=n,n=ue.css(e,t)),D(e,n,o)}}}),ue.cssHooks.marginLeft=$(se.reliableMarginLeft,function(e,t){return t?(parseFloat(E(e,"marginLeft"))||e.getBoundingClientRect().left-tt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),ue.cssHooks.marginRight=$(se.reliableMarginRight,function(e,t){return t?tt(e,{display:"inline-block"},E,[e,"marginRight"]):void 0}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(n){for(var i=0,a={},r="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+Be[i]+t]=r[i]||r[i-2]||r[0];return a}},Ke.test(e)||(ue.cssHooks[e+t].set=D)}),ue.fn.extend({css:function(e,t){return _e(this,function(e,t,n){var i,a,r={},o=0;if(ue.isArray(t)){for(i=et(e),a=t.length;a>o;o++)r[t[o]]=ue.css(e,t[o],!1,i);return r}return void 0!==n?ue.style(e,t,n):ue.css(e,t)},e,t,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Le(this)?ue(this).show():ue(this).hide()})}}),ue.Tween=N,N.prototype={constructor:N,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||ue.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ue.cssNumber[n]?"":"px")},cur:function(){var e=N.propHooks[this.prop];return e&&e.get?e.get(this):N.propHooks._default.get(this)},run:function(e){var t,n=N.propHooks[this.prop];return this.options.duration?this.pos=t=ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ue.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ue.cssProps[e.prop]]&&!ue.cssHooks[e.prop]?e.elem[e.prop]=e.now:ue.style(e.elem,e.prop,e.now+e.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ue.fx=N.prototype.init,ue.fx.step={};var lt,ut,ct=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;ue.Animation=ue.extend(z,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,Me.exec(t),n),n}]},tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.match(Fe);for(var n,i=0,a=e.length;a>i;i++)n=e[i],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(t)},prefilters:[H],prefilter:function(e,t){t?z.prefilters.unshift(e):z.prefilters.push(e)}}),ue.speed=function(e,t,n){var i=e&&"object"==typeof e?ue.extend({},e):{complete:n||!n&&t||ue.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ue.isFunction(t)&&t};return i.duration=ue.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ue.fx.speeds?ue.fx.speeds[i.duration]:ue.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ue.isFunction(i.old)&&i.old.call(this),i.queue&&ue.dequeue(this,i.queue)},i},ue.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Le).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=ue.isEmptyObject(e),r=ue.speed(t,n,i),o=function(){var t=z(this,ue.extend({},e),r);(a||Se.get(this,"finish"))&&t.stop(!0)};return o.finish=o,a||r.queue===!1?this.each(o):this.queue(r.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",r=ue.timers,o=Se.get(this);if(a)o[a]&&o[a].stop&&i(o[a]);else for(a in o)o[a]&&o[a].stop&&dt.test(a)&&i(o[a]);for(a=r.length;a--;)r[a].elem!==this||null!=e&&r[a].queue!==e||(r[a].anim.stop(n),t=!1,r.splice(a,1));!t&&n||ue.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Se.get(this),i=n[e+"queue"],a=n[e+"queueHooks"],r=ue.timers,o=i?i.length:0;for(n.finish=!0,ue.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ue.each(["toggle","show","hide"],function(e,t){var n=ue.fn[t];ue.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(R(t,!0),e,i,a)}}),ue.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ue.timers=[],ue.fx.tick=function(){var e,t=0,n=ue.timers;for(lt=ue.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||ue.fx.stop(),lt=void 0},ue.fx.timer=function(e){ue.timers.push(e),e()?ue.fx.start():ue.timers.pop()},ue.fx.interval=13,ue.fx.start=function(){ut||(ut=n.setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){n.clearInterval(ut),ut=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fn.delay=function(e,t){return e=ue.fx?ue.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var a=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(a)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select"),n=t.appendChild(Z.createElement("option"));e.type="checkbox",se.checkOn=""!==e.value,se.optSelected=n.selected,t.disabled=!0,se.optDisabled=!n.disabled,e=Z.createElement("input"),e.value="t",e.type="radio",se.radioValue="t"===e.value}();var pt,ft=ue.expr.attrHandle;ue.fn.extend({attr:function(e,t){return _e(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})}}),ue.extend({attr:function(e,t,n){var i,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?ue.prop(e,t,n):(1===r&&ue.isXMLDoc(e)||(t=t.toLowerCase(),a=ue.attrHooks[t]||(ue.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void ue.removeAttr(e,t):a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,n+""),n):a&&"get"in a&&null!==(i=a.get(e,t))?i:(i=ue.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,a=0,r=t&&t.match(Fe);if(r&&1===e.nodeType)for(;n=r[a++];)i=ue.propFix[n]||n,ue.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),pt={set:function(e,t,n){return t===!1?ue.removeAttr(e,n):e.setAttribute(n,n),n}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ft[t]||ue.find.attr;ft[t]=function(e,t,i){var a,r;return i||(r=ft[t],ft[t]=a,a=null!=n(e,t,i)?t.toLowerCase():null,ft[t]=r),a}});var ht=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;ue.fn.extend({prop:function(e,t){return _e(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ue.propFix[e]||e]})}}),ue.extend({prop:function(e,t,n){var i,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ue.isXMLDoc(e)||(t=ue.propFix[t]||t,a=ue.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),se.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this});var gt=/[\t\r\n\f]/g;ue.fn.extend({addClass:function(e){var t,n,i,a,r,o,s,l=0;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(Fe)||[];n=this[l++];)if(a=q(n),i=1===n.nodeType&&(" "+a+" ").replace(gt," ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=ue.trim(i),a!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,a,r,o,s,l=0;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Fe)||[];n=this[l++];)if(a=q(n),i=1===n.nodeType&&(" "+a+" ").replace(gt," ")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");s=ue.trim(i),a!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ue.isFunction(e)?this.each(function(n){ue(this).toggleClass(e.call(this,n,q(this),t),t)}):this.each(function(){var t,i,a,r;if("string"===n)for(i=0,a=ue(this),r=e.match(Fe)||[];t=r[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||(t=q(this),t&&Se.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Se.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+q(n)+" ").replace(gt," ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;ue.fn.extend({val:function(e){var t,n,i,a=this[0];{if(arguments.length)return i=ue.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=i?e.call(this,n,ue(this).val()):e,null==a?a="":"number"==typeof a?a+="":ue.isArray(a)&&(a=ue.map(a,function(e){return null==e?"":e+""})),t=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))});if(a)return t=ue.valHooks[a.type]||ue.valHooks[a.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:(n=a.value,"string"==typeof n?n.replace(vt,""):null==n?"":n)}}}),ue.extend({valHooks:{option:{get:function(e){return ue.trim(e.value)}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,r="select-one"===e.type||0>a,o=r?null:[],s=r?a+1:i.length,l=0>a?s:r?a:0;s>l;l++)if(n=i[l],(n.selected||l===a)&&(se.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ue.nodeName(n.parentNode,"optgroup"))){if(t=ue(n).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,i,a=e.options,r=ue.makeArray(t),o=a.length;o--;)i=a[o],(i.selected=ue.inArray(ue.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,t){return ue.isArray(t)?e.checked=ue.inArray(ue(e).val(),t)>-1:void 0}},se.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var yt=/^(?:focusinfocus|focusoutblur)$/;ue.extend(ue.event,{trigger:function(e,t,i,a){var r,o,s,l,u,c,d,p=[i||Z],f=oe.call(e,"type")?e.type:e,h=oe.call(e,"namespace")?e.namespace.split("."):[];if(o=s=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!yt.test(f+ue.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[ue.expando]?e:new ue.Event(f,"object"==typeof e&&e),e.isTrigger=a?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:ue.makeArray(t,[e]),d=ue.event.special[f]||{},a||!d.trigger||d.trigger.apply(i,t)!==!1)){if(!a&&!d.noBubble&&!ue.isWindow(i)){for(l=d.delegateType||f,yt.test(l+f)||(o=o.parentNode);o;o=o.parentNode)p.push(o),s=o;s===(i.ownerDocument||Z)&&p.push(s.defaultView||s.parentWindow||n)}for(r=0;(o=p[r++])&&!e.isPropagationStopped();)e.type=r>1?l:d.bindType||f,c=(Se.get(o,"events")||{})[e.type]&&Se.get(o,"handle"),c&&c.apply(o,t),c=u&&o[u],c&&c.apply&&Ie(o)&&(e.result=c.apply(o,t),e.result===!1&&e.preventDefault());return e.type=f,a||e.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),t)!==!1||!Ie(i)||u&&ue.isFunction(i[f])&&!ue.isWindow(i)&&(s=i[u],s&&(i[u]=null),ue.event.triggered=f,i[f](),ue.event.triggered=void 0,s&&(i[u]=s)),e.result}},simulate:function(e,t,n){var i=ue.extend(new ue.Event,n,{type:e,isSimulated:!0});ue.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}}),ue.fn.extend({trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ue.event.trigger(e,t,n,!0):void 0}}),ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),se.focusin="onfocusin"in n,se.focusin||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ue.event.simulate(t,e.target,ue.event.fix(e))};ue.event.special[t]={setup:function(){var i=this.ownerDocument||this,a=Se.access(i,t);a||i.addEventListener(e,n,!0),Se.access(i,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this,a=Se.access(i,t)-1;a?Se.access(i,t,a):(i.removeEventListener(e,n,!0),Se.remove(i,t))}}});var bt=n.location,wt=ue.now(),xt=/\?/;ue.parseJSON=function(e){return JSON.parse(e+"")},ue.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(i){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+e),t};var Ct=/#.*$/,At=/([?&])_=[^&]*/,kt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tt=/^(?:GET|HEAD)$/,_t=/^\/\//,It={},St={},Et="*/".concat("*"),$t=Z.createElement("a");$t.href=bt.href,ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:Ft.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Et,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?G(G(e,ue.ajaxSettings),t):G(ue.ajaxSettings,e)},ajaxPrefilter:W(It),ajaxTransport:W(St),ajax:function(e,t){function i(e,t,i,s){var u,d,y,b,x,A=t;2!==w&&(w=2,l&&n.clearTimeout(l),a=void 0,o=s||"",C.readyState=e>0?4:0,u=e>=200&&300>e||304===e,i&&(b=V(p,C,i)),b=Y(p,b,C,u),u?(p.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(ue.lastModified[r]=x),x=C.getResponseHeader("etag"),x&&(ue.etag[r]=x)),204===e||"HEAD"===p.type?A="nocontent":304===e?A="notmodified":(A=b.state,d=b.data,y=b.error,u=!y)):(y=A,!e&&A||(A="error",0>e&&(e=0))),C.status=e,C.statusText=(t||A)+"",u?m.resolveWith(f,[d,A,C]):m.rejectWith(f,[C,A,y]),C.statusCode(v),v=void 0,c&&h.trigger(u?"ajaxSuccess":"ajaxError",[C,p,u?d:y]),g.fireWith(f,[C,A]),c&&(h.trigger("ajaxComplete",[C,p]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var a,r,o,s,l,u,c,d,p=ue.ajaxSetup({},t),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?ue(f):ue.event,m=ue.Deferred(),g=ue.Callbacks("once memory"),v=p.statusCode||{},y={},b={},w=0,x="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=kt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||x;return a&&a.abort(t),i(0,t),this}};if(m.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||bt.href)+"").replace(Ct,"").replace(_t,bt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=ue.trim(p.dataType||"*").toLowerCase().match(Fe)||[""],null==p.crossDomain){u=Z.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=$t.protocol+"//"+$t.host!=u.protocol+"//"+u.host}catch(A){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ue.param(p.data,p.traditional)),X(It,p,t,C),2===w)return C;c=ue.event&&p.global,c&&0===ue.active++&&ue.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Tt.test(p.type),r=p.url,p.hasContent||(p.data&&(r=p.url+=(xt.test(r)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=At.test(r)?r.replace(At,"$1_="+wt++):r+(xt.test(r)?"&":"?")+"_="+wt++)),p.ifModified&&(ue.lastModified[r]&&C.setRequestHeader("If-Modified-Since",ue.lastModified[r]),ue.etag[r]&&C.setRequestHeader("If-None-Match",ue.etag[r])),(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Et+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)C.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===w))return C.abort();x="abort";for(d in{success:1,error:1,complete:1})C[d](p[d]);if(a=X(St,p,t,C)){if(C.readyState=1,c&&h.trigger("ajaxSend",[C,p]),2===w)return C;p.async&&p.timeout>0&&(l=n.setTimeout(function(){C.abort("timeout")},p.timeout));try{w=1,a.send(y,i)}catch(A){if(!(2>w))throw A;i(-1,A)}}else i(-1,"No Transport");return C},getJSON:function(e,t,n){return ue.get(e,t,n,"json")},getScript:function(e,t){return ue.get(e,void 0,t,"script")}}),ue.each(["get","post"],function(e,t){ue[t]=function(e,n,i,a){return ue.isFunction(n)&&(a=a||i,i=n,n=void 0),ue.ajax(ue.extend({url:e,type:t,dataType:a,data:n,success:i},ue.isPlainObject(e)&&e))}}),ue._evalUrl=function(e){return ue.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ue.fn.extend({wrapAll:function(e){var t;return ue.isFunction(e)?this.each(function(t){ue(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ue(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ue.isFunction(e)?this.each(function(t){ue(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ue(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(n){ue(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}}),ue.expr.filters.hidden=function(e){return!ue.expr.filters.visible(e)},ue.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var jt=/%20/g,Dt=/\[\]$/,Mt=/\r?\n/g,Bt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;ue.param=function(e,t){var n,i=[],a=function(e,t){t=ue.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){a(this.name,this.value)});else for(n in e)J(n,e[n],t,a);return i.join("&").replace(jt,"+")},ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&Lt.test(this.nodeName)&&!Bt.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var n=ue(this).val();return null==n?null:ue.isArray(n)?ue.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}}),ue.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Nt={0:200,1223:204},Pt=ue.ajaxSettings.xhr();se.cors=!!Pt&&"withCredentials"in Pt,se.ajax=Pt=!!Pt,ue.ajaxTransport(function(e){var t,i;return se.cors||Pt&&!e.crossDomain?{send:function(a,r){var o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");for(o in a)s.setRequestHeader(o,a[o]);t=function(e){return function(){t&&(t=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,
"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Nt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),i=s.onerror=t("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}:void 0}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,a){t=ue("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rt=[],Ot=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||ue.expando+"_"+wt++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(e,t,i){var a,r,o,s=e.jsonp!==!1&&(Ot.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(a=e.jsonpCallback=ue.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ot,"$1"+a):e.jsonp!==!1&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return o||ue.error(a+" was not called"),o[0]},e.dataTypes[0]="json",r=n[a],n[a]=function(){o=arguments},i.always(function(){void 0===r?ue(n).removeProp(a):n[a]=r,e[a]&&(e.jsonpCallback=t.jsonpCallback,Rt.push(a)),o&&ue.isFunction(r)&&r(o[0]),o=r=void 0}),"script"):void 0}),se.createHTMLDocument=function(){var e=Z.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ue.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||(se.createHTMLDocument?Z.implementation.createHTMLDocument(""):Z);var i=ye.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=g([e],t,a),a&&a.length&&ue(a).remove(),ue.merge([],i.childNodes))};var Ht=ue.fn.load;ue.fn.load=function(e,t,n){if("string"!=typeof e&&Ht)return Ht.apply(this,arguments);var i,a,r,o=this,s=e.indexOf(" ");return s>-1&&(i=ue.trim(e.slice(s)),e=e.slice(0,s)),ue.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),o.length>0&&ue.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){r=arguments,o.html(i?ue("<div>").append(ue.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(o,r||[e.responseText,t,e])})}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.expr.filters.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length},ue.offset={setOffset:function(e,t,n){var i,a,r,o,s,l,u,c=ue.css(e,"position"),d=ue(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),r=ue.css(e,"top"),l=ue.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1,u?(i=d.position(),o=i.top,a=i.left):(o=parseFloat(r)||0,a=parseFloat(l)||0),ue.isFunction(t)&&(t=t.call(e,n,ue.extend({},s))),null!=t.top&&(p.top=t.top-s.top+o),null!=t.left&&(p.left=t.left-s.left+a),"using"in t?t.using.call(e,p):d.css(p)}},ue.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var t,n,i=this[0],a={top:0,left:0},r=i&&i.ownerDocument;if(r)return t=r.documentElement,ue.contains(t,i)?(a=i.getBoundingClientRect(),n=Q(r),{top:a.top+n.pageYOffset-t.clientTop,left:a.left+n.pageXOffset-t.clientLeft}):a},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===ue.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(i=e.offset()),i.top+=ue.css(e[0],"borderTopWidth",!0),i.left+=ue.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ue.css(n,"marginTop",!0),left:t.left-i.left-ue.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||nt})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ue.fn[e]=function(i){return _e(this,function(e,i,a){var r=Q(e);return void 0===a?r?r[t]:e[i]:void(r?r.scrollTo(n?r.pageXOffset:a,n?a:r.pageYOffset):e[i]=a)},e,i,arguments.length)}}),ue.each(["top","left"],function(e,t){ue.cssHooks[t]=$(se.pixelPosition,function(e,n){return n?(n=E(e,t),Ze.test(n)?ue(e).position()[t]+"px":n):void 0})}),ue.each({Height:"height",Width:"width"},function(e,t){ue.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ue.fn[i]=function(i,a){var r=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||a===!0?"margin":"border");return _e(this,function(t,n,i){var a;return ue.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?ue.css(t,n,o):ue.style(t,n,i,o)},t,r?i:void 0,r,null)}})}),ue.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),ue.fn.andSelf=ue.fn.addBack,i=[],a=function(){return ue}.apply(t,i),!(void 0!==a&&(e.exports=a));var Ut=n.jQuery,zt=n.$;return ue.noConflict=function(e){return n.$===ue&&(n.$=zt),e&&n.jQuery===ue&&(n.jQuery=Ut),ue},r||(n.jQuery=n.$=ue),ue})},function(e,t){},,,,,,,,,,function(e,t){/*!
	 * jQuery.filer
	 * Copyright (c) 2015 CreativeDream
	 * Website: https://github.com/CreativeDream/jquery.filer
	 * Version: 1.0.4 (29-Oct-2015)
	 * Requires: jQuery v1.7.1 or later
	 */
!function(e){"use strict";e.fn.filer=function(t){return this.each(function(n,i){var a=e(i),r=".jFiler",o=e(),s=e(),l=e(),u=[],c=e.extend(!0,{},e.fn.filer.defaults,t),d={init:function(){a.wrap('<div class="jFiler"></div>'),o=a.closest(r),d._changeInput()},_bindInput:function(){c.changeInput&&s.size()>0&&s.bind("click",d._clickHandler),a.on({focus:function(){s.addClass("focused")},blur:function(){s.removeClass("focused")},change:function(){d._onChange()}}),c.dragDrop&&(s.length>0?s:a).bind("drop",d._dragDrop.drop).bind("dragover",d._dragDrop.dragEnter).bind("dragleave",d._dragDrop.dragLeave),c.uploadFile&&c.clipBoardPaste&&e(window).on("paste",d._clipboardPaste)},_unbindInput:function(){c.changeInput&&s.size()>0&&s.unbind("click",d._clickHandler)},_clickHandler:function(){a.click()},_applyAttrSettings:function(){var e=["name","limit","maxSize","extensions","changeInput","showThumbs","appendTo","theme","addMore","excludeName","files"];for(var t in e){var n="data-jfiler-"+e[t];if(d._assets.hasAttr(n)){switch(e[t]){case"changeInput":case"showThumbs":case"addMore":c[e[t]]=["true","false"].indexOf(a.attr(n))>-1?"true"==a.attr(n):a.attr(n);break;case"extensions":c[e[t]]=a.attr(n).replace(/ /g,"").split(",");break;case"files":c[e[t]]=JSON.parse(a.attr(n));break;default:c[e[t]]=a.attr(n)}a.removeAttr(n)}}},_changeInput:function(){if(d._applyAttrSettings(),c.theme&&o.addClass("jFiler-theme-"+c.theme),"input"!=a.get(0).tagName.toLowerCase()&&"file"!=a.get(0).type)s=a,a=e('<input type="file" name="'+c.name+'" />'),a.css({position:"absolute",left:"-9999px",top:"-9999px","z-index":"-9999"}),o.prepend(a),d._isGn=a;else if(c.changeInput){switch(typeof c.changeInput){case"boolean":s=e('<div class="jFiler-input"><div class="jFiler-input-caption"><span>'+c.captions.feedback+'</span></div><div class="jFiler-input-button">'+c.captions.button+'</div></div>"');break;case"string":case"object":s=e(c.changeInput);break;case"function":s=e(c.changeInput(o,a,c))}a.after(s),a.css({position:"absolute",left:"-9999px",top:"-9999px","z-index":"-9999"})}(!c.limit||c.limit&&c.limit>=2)&&(a.attr("multiple","multiple"),"[]"!=a.attr("name").slice(-2)?a.attr("name",a.attr("name")+"[]"):null),d._bindInput(),c.files&&d._append(!1,{files:c.files})},_clear:function(){d.files=null,a.prop("jFiler").files=null,c.uploadFile||c.addMore||d._reset(),d._set("feedback",d._itFl&&d._itFl.length>0?d._itFl.length+" "+c.captions.feedback2:c.captions.feedback),null!=c.onEmpty&&"function"==typeof c.onEmpty?c.onEmpty(o,s,a):null},_reset:function(t){if(!t){if(!c.uploadFile&&c.addMore){for(var n=0;n<u.length;n++)u[n].remove();u=[],d._unbindInput(),a=d._isGn?d._isGn:e(i),d._bindInput()}d._set("input","")}d._itFl=[],d._itFc=null,d._ajFc=0,a.prop("jFiler").files_list=d._itFl,a.prop("jFiler").current_file=d._itFc,d._prEr||(d._itFr=[],o.find("input[name^='jfiler-items-exclude-']:hidden").remove()),l.fadeOut("fast",function(){e(this).remove()}),l=e()},_set:function(e,t){switch(e){case"input":a.val("");break;case"feedback":s.length>0&&s.find(".jFiler-input-caption span").html(t)}},_filesCheck:function(){var t=0;if(c.limit&&d.files.length+d._itFl.length>c.limit)return alert(d._assets.textParse(c.captions.errors.filesLimit)),!1;for(var n=0;n<d.files.length;n++){var i=d.files[n].name.split(".").pop().toLowerCase(),a=d.files[n],r={name:a.name,size:a.size,size2:d._assets.bytesToSize(a.size),type:a.type,ext:i};if(null!=c.extensions&&-1==e.inArray(i,c.extensions))return alert(d._assets.textParse(c.captions.errors.filesType,r)),!1;if(null!=c.maxSize&&d.files[n].size>1048576*c.maxSize)return alert(d._assets.textParse(c.captions.errors.filesSize,r)),!1;if(4096==a.size&&0==a.type.length)return!1;t+=d.files[n].size}if(null!=c.maxSize&&t>=Math.round(1048576*c.maxSize))return alert(d._assets.textParse(c.captions.errors.filesSizeAll)),!1;if(c.addMore||c.uploadFile){var r=d._itFl.filter(function(e){return e.file.name!=a.name||e.file.size!=a.size||e.file.type!=a.type||(a.lastModified?e.file.lastModified!=a.lastModified:0)?void 0:!0});if(r.length>0)return!1}return!0},_thumbCreator:{create:function(t){var n=d.files[t],i=d._itFc?d._itFc.id:t,a=n.name,r=n.size,o=n.type.split("/",1).toString().toLowerCase(),s=-1!=a.indexOf(".")?a.split(".").pop().toLowerCase():"",u=c.uploadFile?'<div class="jFiler-jProgressBar">'+c.templates.progressBar+"</div>":"",p={id:i,name:a,size:r,size2:d._assets.bytesToSize(r),type:o,extension:s,icon:d._assets.getIcon(s,o),icon2:d._thumbCreator.generateIcon({type:o,extension:s}),image:'<div class="jFiler-item-thumb-image fi-loading"></div>',progressBar:u,_appended:n._appended},f="";return n.opts&&(p=e.extend({},n.opts,p)),f=e(d._thumbCreator.renderContent(p)).attr("data-jfiler-index",i),f.get(0).jfiler_id=i,d._thumbCreator.renderFile(n,f,p),n.forList?f:(d._itFc.html=f,f.hide()[c.templates.itemAppendToEnd?"appendTo":"prependTo"](l.find(c.templates._selectors.list)).show(),void(n._appended||d._onSelect(t)))},renderContent:function(e){return d._assets.textParse(e._appended?c.templates.itemAppend:c.templates.item,e)},renderFile:function(t,n,i){if(0==n.find(".jFiler-item-thumb-image").size())return!1;if(t.file&&"image"==i.type){var a='<img src="'+t.file+'" draggable="false" />',r=n.find(".jFiler-item-thumb-image.fi-loading");return e(a).error(function(){a=d._thumbCreator.generateIcon(i),n.addClass("jFiler-no-thumbnail"),r.removeClass("fi-loading").html(a)}).load(function(){r.removeClass("fi-loading").html(a)}),!0}if(window.File&&window.FileList&&window.FileReader&&"image"==i.type&&i.size<6e6){var o=new FileReader;o.onload=function(t){var a='<img src="'+t.target.result+'" draggable="false" />',r=n.find(".jFiler-item-thumb-image.fi-loading");e(a).error(function(){a=d._thumbCreator.generateIcon(i),n.addClass("jFiler-no-thumbnail"),r.removeClass("fi-loading").html(a)}).load(function(){r.removeClass("fi-loading").html(a)})},o.readAsDataURL(t)}else{var a=d._thumbCreator.generateIcon(i),r=n.find(".jFiler-item-thumb-image.fi-loading");n.addClass("jFiler-no-thumbnail"),r.removeClass("fi-loading").html(a)}},generateIcon:function(t){var n=new Array(3);if(t&&t.type&&t.extension)switch(t.type){case"image":n[0]="f-image",n[1]='<i class="icon-jfi-file-image"></i>';break;case"video":n[0]="f-video",n[1]='<i class="icon-jfi-file-video"></i>';break;case"audio":n[0]="f-audio",n[1]='<i class="icon-jfi-file-audio"></i>';break;default:n[0]="f-file f-file-ext-"+t.extension,n[1]=t.extension.length>0?"."+t.extension:"",n[2]=1}else n[0]="f-file",n[1]=t.extension&&t.extension.length>0?"."+t.extension:"",n[2]=1;var i='<span class="jFiler-icon-file '+n[0]+'">'+n[1]+"</span>";if(1==n[2]){var a=d._assets.text2Color(t.extension);if(a){var r=e(i).appendTo("body"),o=r.css("box-shadow");o=a+o.substring(o.replace(/^.*(rgba?\([^)]+\)).*$/,"$1").length,o.length),r.css({"-webkit-box-shadow":o,"-moz-box-shadow":o,"box-shadow":o}).attr("style","-webkit-box-shadow: "+o+"; -moz-box-shadow: "+o+"; box-shadow: "+o+";"),i=r.prop("outerHTML"),r.remove()}}return i},_box:function(t){if(null!=c.beforeShow&&"function"==typeof c.beforeShow?!c.beforeShow(d.files,l,o,s,a):!1)return!1;if(l.length<1){if(c.appendTo)var n=e(c.appendTo);else var n=o;n.find(".jFiler-items").remove(),l=e('<div class="jFiler-items jFiler-row"></div>'),l.append(d._assets.textParse(c.templates.box)).appendTo(n),l.on("click",c.templates._selectors.remove,function(n){n.preventDefault();var i=c.templates.removeConfirmation?confirm(c.captions.removeConfirmation):!0;i&&d._remove(t?t.remove.event:n,t?t.remove.el:e(this).closest(c.templates._selectors.item))})}for(var i=0;i<d.files.length;i++)d.files[i]._appended||(d.files[i]._choosed=!0),d._addToMemory(i),d._thumbCreator.create(i)}},_upload:function(){var t=d._itFc.html,n=new FormData;if(n.append(a.attr("name"),d._itFc.file,d._itFc.file.name?d._itFc.file.name:!1),null!=c.uploadFile.data&&e.isPlainObject(c.uploadFile.data))for(var i in c.uploadFile.data)n.append(i,c.uploadFile.data[i]);d._ajax.send(t,n,d._itFc)},_ajax:{send:function(t,n,i){return i.ajax=e.ajax({url:c.uploadFile.url,data:n,type:c.uploadFile.type,enctype:c.uploadFile.enctype,xhr:function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){d._ajax.progressHandling(e,t)},!1),n},complete:function(e,t){i.ajax=!1,d._ajFc++,d._ajFc>=d.files.length&&(d._ajFc=0,null!=c.uploadFile.onComplete&&"function"==typeof c.uploadFile.onComplete?c.uploadFile.onComplete(l,o,s,a,e,t):null)},beforeSend:function(e,n){return null!=c.uploadFile.beforeSend&&"function"==typeof c.uploadFile.beforeSend?c.uploadFile.beforeSend(t,l,o,s,a,i.id,e,n):!0},success:function(e,n,r){i.uploaded=!0,null!=c.uploadFile.success&&"function"==typeof c.uploadFile.success?c.uploadFile.success(e,t,l,o,s,a,i.id,n,r):null},error:function(e,n,r){i.uploaded=!1,null!=c.uploadFile.error&&"function"==typeof c.uploadFile.error?c.uploadFile.error(t,l,o,s,a,i.id,e,n,r):null},statusCode:c.uploadFile.statusCode,cache:!1,contentType:!1,processData:!1}),i.ajax},progressHandling:function(e,t){if(e.lengthComputable){var n=Math.round(100*e.loaded/e.total).toString();null!=c.uploadFile.onProgress&&"function"==typeof c.uploadFile.onProgress?c.uploadFile.onProgress(n,t,l,o,s,a):null,t.find(".jFiler-jProgressBar").find(c.templates._selectors.progressBar).css("width",n+"%")}}},_dragDrop:{dragEnter:function(e){e.preventDefault(),e.stopPropagation(),o.addClass("dragged"),d._set("feedback",c.captions.drop),null!=c.dragDrop.dragEnter&&"function"==typeof c.dragDrop.dragEnter?c.dragDrop.dragEnter(e,s,a,o):null},dragLeave:function(e){return e.preventDefault(),e.stopPropagation(),d._dragDrop._dragLeaveCheck(e)?(o.removeClass("dragged"),d._set("feedback",c.captions.feedback),void(null!=c.dragDrop.dragLeave&&"function"==typeof c.dragDrop.dragLeave?c.dragDrop.dragLeave(e,s,a,o):null)):!1},drop:function(e){e.preventDefault(),o.removeClass("dragged"),!e.originalEvent.dataTransfer.files||e.originalEvent.dataTransfer.files.length<=0||(d._set("feedback",c.captions.feedback),d._onChange(e,e.originalEvent.dataTransfer.files),null!=c.dragDrop.drop&&"function"==typeof c.dragDrop.drop?c.dragDrop.drop(e.originalEvent.dataTransfer.files,e,s,a,o):null)},_dragLeaveCheck:function(t){var n=t.relatedTarget,i=!1;return n===s||(n&&(i=e.contains(s,n)),!i)}},_clipboardPaste:function(e,t){if((t||e.originalEvent.clipboardData||e.originalEvent.clipboardData.items)&&(!t||e.originalEvent.dataTransfer||e.originalEvent.dataTransfer.items)&&!d._clPsePre){var n=t?e.originalEvent.dataTransfer.items:e.originalEvent.clipboardData.items,i=function(e,t,n){t=t||"",n=n||512;for(var i=atob(e),a=[],r=0;r<i.length;r+=n){for(var o=i.slice(r,r+n),s=new Array(o.length),l=0;l<o.length;l++)s[l]=o.charCodeAt(l);var u=new Uint8Array(s);a.push(u)}var c=new Blob(a,{type:t});return c};if(n)for(var a=0;a<n.length;a++)if(-1!==n[a].type.indexOf("image")||-1!==n[a].type.indexOf("text/uri-list")){if(t)try{window.atob(e.originalEvent.dataTransfer.getData("text/uri-list").toString().split(",")[1])}catch(e){return}var r=t?i(e.originalEvent.dataTransfer.getData("text/uri-list").toString().split(",")[1],"image/png"):n[a].getAsFile();r.name=Math.random().toString(36).substring(5),r.name+=-1!=r.type.indexOf("/")?"."+r.type.split("/")[1].toString().toLowerCase():".png",d._onChange(e,[r]),d._clPsePre=setTimeout(function(){delete d._clPsePre},1e3)}}},_onSelect:function(t){c.uploadFile&&!e.isEmptyObject(c.uploadFile)&&d._upload(t),null!=c.onSelect&&"function"==typeof c.onSelect?c.onSelect(d.files[t],d._itFc.html,l,o,s,a):null,t+1>=d.files.length&&(null!=c.afterShow&&"function"==typeof c.afterShow?c.afterShow(l,o,s,a):null)},_onChange:function(t,n){if(n){if(!n||0==n.length)return d._set("input",""),d._clear(),!1;d.files=n}else{if(!a.get(0).files||"undefined"==typeof a.get(0).files||0==a.get(0).files.length)return c.uploadFile||c.addMore||(d._set("input",""),d._clear()),!1;d.files=a.get(0).files}if(c.uploadFile||c.addMore||d._reset(!0),a.prop("jFiler").files=d.files,!d._filesCheck()||(null!=c.beforeSelect&&"function"==typeof c.beforeSelect?!c.beforeSelect(d.files,l,o,s,a):!1))return d._set("input",""),d._clear(),!1;if(d._set("feedback",d.files.length+d._itFl.length+" "+c.captions.feedback2),c.showThumbs)d._thumbCreator._box();else for(var i=0;i<d.files.length;i++)d.files[i]._choosed=!0,d._addToMemory(i),d._onSelect(i);if(!c.uploadFile&&c.addMore){var r=e('<input type="file" />'),p=a.prop("attributes");e.each(p,function(){r.attr(this.name,this.value)}),a.after(r),d._unbindInput(),u.push(r),a=r,d._bindInput()}},_append:function(e,t){var n=t?t.files:!1;if(n&&!(n.length<=0)&&(d.files=n,a.prop("jFiler").files=d.files,c.showThumbs)){for(var i=0;i<d.files.length;i++)d.files[i]._appended=!0;d._thumbCreator._box()}},_getList:function(e,t){var n=t?t.files:!1;if(n&&!(n.length<=0)&&(d.files=n,a.prop("jFiler").files=d.files,c.showThumbs)){for(var i=[],r=0;r<d.files.length;r++)d.files[r].forList=!0,i.push(d._thumbCreator.create(r));t.callback&&t.callback(i,l,o,s,a)}},_retryUpload:function(t,n){var i=parseInt("object"==typeof n?n.attr("data-jfiler-index"):n),r=d._itFl.filter(function(e){return e.id==i});return r.length>0?!c.uploadFile||e.isEmptyObject(c.uploadFile)||r[0].uploaded?void 0:(d._itFc=r[0],a.prop("jFiler").current_file=d._itFc,d._upload(i),!0):!1},_remove:function(t,i){if(i.binded){if("undefined"!=typeof i.data.id&&(i=l.find(c.templates._selectors.item+"[data-jfiler-index='"+i.data.id+"']"),0==i.size()))return!1;i.data.el&&(i=i.data.el)}var r=i.get(0).jfiler_id||i.attr("data-jfiler-index"),u=null,p=function(t){var i=o.find("input[name^='jfiler-items-exclude-']:hidden").first(),r=d._itFl[t],s=[];if(0==i.size()&&(i=e('<input type="hidden" name="jfiler-items-exclude-'+(c.excludeName?c.excludeName:("[]"!=a.attr("name").slice(-2)?a.attr("name"):a.attr("name").substring(0,a.attr("name").length-2))+"-"+n)+'">'),i.appendTo(o)),r.file._choosed||r.file._appended||r.uploaded){if(d._prEr=!0,d._itFr.push(r),c.addMore){var l=r.input,u=0;d._itFl.filter(function(e){e.file._choosed&&e.input.get(0)==l.get(0)&&u++}),1==u&&(d._itFr=d._itFr.filter(function(e){return e.file._choosed?e.input.get(0)!=l.get(0):!0}),l.val(""),d._prEr=!1)}for(var p=0;p<d._itFr.length;p++)s.push(d._itFr[p].file.name);s=JSON.stringify(s),i.val(s)}},f=function(t,n){p(n),d._itFl.splice(n,1),d._itFl.length<1?(d._reset(),d._clear()):d._set("feedback",d._itFl.length+" "+c.captions.feedback2),t.fadeOut("fast",function(){e(this).remove()})};for(var h in d._itFl)"length"!==h&&d._itFl.hasOwnProperty(h)&&d._itFl[h].id==r&&(u=h);return d._itFl.hasOwnProperty(u)?d._itFl[u].ajax?(d._itFl[u].ajax.abort(),void f(i,u)):(null!=c.onRemove&&"function"==typeof c.onRemove?c.onRemove(i,d._itFl[u].file,u,l,o,s,a):null,void f(i,u)):!1},_addToMemory:function(t){d._itFl.push({id:d._itFl.length,file:d.files[t],html:e(),ajax:!1,uploaded:!1}),c.addMore&&!d.files[t]._appended&&(d._itFl[d._itFl.length-1].input=a),d._itFc=d._itFl[d._itFl.length-1],a.prop("jFiler").files_list=d._itFl,a.prop("jFiler").current_file=d._itFc},_assets:{bytesToSize:function(e){if(0==e)return"0 Byte";var t=1e3,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(t));return(e/Math.pow(t,i)).toPrecision(3)+" "+n[i]},hasAttr:function(e,t){var t=t?t:a,n=t.attr(e);return!(!n||"undefined"==typeof n)},getIcon:function(t,n){var i=["audio","image","text","video"];return e.inArray(n,i)>-1?'<i class="icon-jfi-file-'+n+" jfi-file-ext-"+t+'"></i>':'<i class="icon-jfi-file-o jfi-file-type-'+n+" jfi-file-ext-"+t+'"></i>'},textParse:function(t,n){switch(n=e.extend({},{limit:c.limit,maxSize:c.maxSize},n&&e.isPlainObject(n)?n:{}),typeof t){case"string":return t.replace(/\{\{fi-(.*?)\}\}/g,function(e,t){return t=t.replace(/ /g,""),t.match(/(.*?)\|limitTo\:(\d+)/)?t.replace(/(.*?)\|limitTo\:(\d+)/,function(e,t,i){var t=n[t]?n[t]:"",a=t.substring(0,i);return a=t.length>a.length?a.substring(0,a.length-3)+"...":a}):n[t]?n[t]:""});case"function":return t(n);default:return t}},text2Color:function(e){if(!e||0==e.length)return!1;for(var t=0,n=0;t<e.length;n=e.charCodeAt(t++)+((n<<5)-n));for(var t=0,i="#";3>t;i+=("00"+(n>>2*t++&255).toString(16)).slice(-2));return i}},files:null,_itFl:[],_itFc:null,_itFr:[],_ajFc:0,_prEr:!1};return a.prop("jFiler",{options:c,listEl:l,boxEl:o,newInputEl:s,inputEl:a,files:d.files,files_list:d._itFl,current_file:d._itFc,append:function(e){return d._append(!1,{files:[e]})},remove:function(e){return d._remove(null,{binded:!0,data:{id:e}}),!0},reset:function(){return d._reset(),d._clear(),!0},retry:function(e){return d._retryUpload(e)}}),a.on("filer.append",function(e,t){d._append(e,t)}),a.on("filer.remove",function(e,t){t.binded=!0,d._remove(e,t)}),a.on("filer.reset",function(){return d._reset(),d._clear(),!0}),a.on("filer.generateList",function(e,t){return d._getList(e,t)}),a.on("filer.retry",function(e,t){return d._retryUpload(e,t)}),d.init(),this})},e.fn.filer.defaults={limit:null,maxSize:null,extensions:null,changeInput:!0,showThumbs:!1,appendTo:null,theme:"default",templates:{box:'<ul class="jFiler-items-list jFiler-items-default"></ul>',item:'<li class="jFiler-item"><div class="jFiler-item-container"><div class="jFiler-item-inner"><div class="jFiler-item-icon pull-left">{{fi-icon}}</div><div class="jFiler-item-info pull-left"><div class="jFiler-item-title" title="{{fi-name}}">{{fi-name | limitTo:30}}</div><div class="jFiler-item-others"><span>size: {{fi-size2}}</span><span>type: {{fi-extension}}</span><span class="jFiler-item-status">{{fi-progressBar}}</span></div><div class="jFiler-item-assets"><ul class="list-inline"><li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li></ul></div></div></div></div></li>',itemAppend:'<li class="jFiler-item"><div class="jFiler-item-container"><div class="jFiler-item-inner"><div class="jFiler-item-icon pull-left">{{fi-icon}}</div><div class="jFiler-item-info pull-left"><div class="jFiler-item-title">{{fi-name | limitTo:35}}</div><div class="jFiler-item-others"><span>size: {{fi-size2}}</span><span>type: {{fi-extension}}</span><span class="jFiler-item-status"></span></div><div class="jFiler-item-assets"><ul class="list-inline"><li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li></ul></div></div></div></div></li>',progressBar:'<div class="bar"></div>',itemAppendToEnd:!1,removeConfirmation:!0,_selectors:{list:".jFiler-items-list",item:".jFiler-item",progressBar:".bar",remove:".jFiler-item-trash-action"}},files:null,uploadFile:null,dragDrop:null,addMore:!1,clipBoardPaste:!0,excludeName:null,beforeShow:null,beforeSelect:null,onSelect:null,afterShow:null,onRemove:null,onEmpty:null,captions:{button:"Choose Files",feedback:"Choose files To Upload",feedback2:"files were chosen",drop:"Drop file here to Upload",removeConfirmation:"Are you sure you want to remove this file?",errors:{filesLimit:"Only {{fi-limit}} files are allowed to be uploaded.",filesType:"Only Images are allowed to be uploaded.",filesSize:"{{fi-name}} is too large! Please upload file up to {{fi-maxSize}} MB.",filesSizeAll:"Files you've choosed are too large! Please upload files up to {{fi-maxSize}} MB."}}}}(jQuery)},function(e,t){},,,,,,,function(e,t){},,function(e,t){function n(e){if(!e)throw"MediaStream is mandatory.";this.start=function(n){var a=IsChrome?window.StereoRecorder:window.MediaRecorderWrapper;-1!=this.mimeType.indexOf("video")&&(a=IsChrome?window.WhammyRecorder:window.MediaRecorderWrapper),"image/gif"===this.mimeType&&(a=window.GifRecorder),t=new a(e),t.ondataavailable=this.ondataavailable,t.onstop=this.onstop,t.onStartedDrawingNonBlankFrames=this.onStartedDrawingNonBlankFrames,t=i(t,this),t.start(n)},this.onStartedDrawingNonBlankFrames=function(){},this.clearOldRecordedFrames=function(){t&&t.clearOldRecordedFrames()},this.stop=function(){t&&t.stop()},this.ondataavailable=function(e){console.log("ondataavailable..",e)},this.onstop=function(e){console.warn("stopped..",e)};var t}function i(e,t){t=a(t);for(var n in t)"function"!=typeof t[n]&&(e[n]=t[n]);return e}function a(e){var t={};for(var n in e)if(-1!=n.indexOf("-")){var i=n.split("-"),a=i[0]+i[1].split("")[0].toUpperCase()+i[1].substr(1);t[a]=e[n]}else t[n]=e[n];return t}function r(e){if("audio"==this.type&&e.getVideoTracks&&e.getVideoTracks().length&&!navigator.mozGetUserMedia){var t=new AudioContext,n=t.createMediaStreamSource(e),i=t.createMediaStreamDestination();n.connect(i),e=i.stream}this.start=function(t){function n(){a||(o=new MediaRecorder(e),o.ondataavailable=function(e){if(console.log("ondataavailable",e.data.type,e.data.size,e.data),!e.data.size)return void console.warn("Recording of",e.data.type,"failed.");var t=new window.Blob([e.data],{type:e.data.type||r.mimeType||"audio/ogg"});r.ondataavailable(t)},o.onstop=function(e){},o.onerror=function(e){console.error(e),r.start(t)},o.onwarning=function(e){console.warn(e)},o.start(0),setTimeout(function(){o.stop(),n()},t))}t=t||1e3,a=!1,n()};var a=!1;this.stop=function(){a=!0,r.onstop&&r.onstop({})},this.ondataavailable=this.onstop=function(){};var r=this;!r.mimeType&&e.getAudioTracks&&(r.mimeType=e.getAudioTracks().length&&e.getVideoTracks().length?"video/webm":"audio/ogg");var o}function o(e){this.start=function(i){i=i||1e3,t=new s(e,this),t.record(),n=setInterval(function(){t.requestData()},i)},this.stop=function(){t&&(t.stop(),clearTimeout(n))},this.ondataavailable=function(){};var t,n}function s(e,t){function n(e,t){for(var n=e.length+t.length,i=new Float32Array(n),a=0,r=0;n>r;)i[r++]=e[a],i[r++]=t[a],a++;return i}function i(e,t){for(var n=new Float32Array(t),i=0,a=e.length,r=0;a>r;r++){var o=e[r];n.set(o,i),i+=o.length}return n}function a(e,t,n){for(var i=n.length,a=0;i>a;a++)e.setUint8(t+a,n.charCodeAt(a))}var r,o,s,c,d,p=[],f=[],h=!1,m=0,g=t.sampleRate||44100,v=t.audioChannels||2;this.record=function(){h=!0,p.length=f.length=0,m=0},this.requestData=function(){if(0==m)return void(b=!1);b=!0;var e=p.slice(0),r=(f.slice(0),m);p.length=f.length=[],m=0,b=!1;var o=i(e,r),s=i(e,r);if(2===v)var u=n(o,s);else var u=o;var c=new ArrayBuffer(44+2*u.length),d=new DataView(c);a(d,0,"RIFF"),d.setUint32(4,44+2*u.length,!0),a(d,8,"WAVE"),a(d,12,"fmt "),d.setUint32(16,16,!0),d.setUint16(20,1,!0),d.setUint16(22,v,!0),d.setUint32(24,g,!0),d.setUint32(28,4*g,!0),d.setUint16(32,2*v,!0),d.setUint16(34,16,!0),a(d,36,"data"),d.setUint32(40,2*u.length,!0);for(var h=u.length,y=44,w=1,x=0;h>x;x++)d.setInt16(y,u[x]*(32767*w),!0),y+=2;var C=new Blob([d],{type:"audio/wav"});console.debug("audio recorded blob size:",l(C.size)),t.ondataavailable(C)},this.stop=function(){h=!1,this.requestData()};var c=u.AudioContext;u.AudioContextConstructor||(u.AudioContextConstructor=new c);var d=u.AudioContextConstructor;u.VolumeGainNode||(u.VolumeGainNode=d.createGain());var o=u.VolumeGainNode;u.AudioInput||(u.AudioInput=d.createMediaStreamSource(e));var s=u.AudioInput;s.connect(o);var y=t.bufferSize||2048;if(0==t.bufferSize&&(y=0),d.createJavaScriptNode)r=d.createJavaScriptNode(y,v,v);else{if(!d.createScriptProcessor)throw"WebAudio API has no support on this browser.";r=d.createScriptProcessor(y,v,v)}y=r.bufferSize,console.debug("using audio buffer-size:",y);var b=!1;window.scriptprocessornode=r,1==v&&console.debug("All right-channels are skipped."),r.onaudioprocess=function(e){if(h&&!b){var t=e.inputBuffer.getChannelData(0);if(p.push(new Float32Array(t)),2==v){var n=e.inputBuffer.getChannelData(1);f.push(new Float32Array(n))}m+=y}},o.connect(r),r.connect(d.destination)}function l(e){var t=1e3,n=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,i)).toPrecision(3)+" "+n[i]}e.exports.MediaStreamRecorder=n,window.requestAnimationFrame||(requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame),window.cancelAnimationFrame||(cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame),window.AudioContext||(window.AudioContext=window.webkitAudioContext||window.mozAudioContext),URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.webkitGetUserMedia||navigator.mozGetUserMedia,window.webkitMediaStream&&(window.MediaStream=window.webkitMediaStream),IsChrome=!!navigator.webkitGetUserMedia;var u={AudioContext:window.AudioContext||window.webkitAudioContext};e.exports.MediaRecorderWrapper=r,e.exports.StereoRecorder=o;(function(){function e(e){for(var n=t(e),i=3e4,a=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:u(n.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:25541},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:n.width,id:176},{data:n.height,id:186}]}]}]}]}],s=0,l=0;s<e.length;){var c=[],d=0;do c.push(e[s]),d+=e[s].duration,s++;while(s<e.length&&i>d);var p=0,f={id:524531317,data:[{data:l,id:231}].concat(c.map(function(e){var t=o({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(p)});return p+=e.duration,{data:t,id:163}}))};a[1].data.push(f),l+=d}return r(a)}function t(e){if(!e[0])return void console.warn("Something went wrong. Maybe WebP format is not supported in the current browser.");for(var t=e[0].width,n=e[0].height,i=e[0].duration,a=1;a<e.length;a++)i+=e[a].duration;return{duration:i,width:t,height:n}}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function i(e){return new Uint8Array(e.split("").map(function(e){return e.charCodeAt(0)}))}function a(e){var t=[],n=e.length%8?new Array(9-e.length%8).join("0"):"";e=n+e;for(var i=0;i<e.length;i+=8)t.push(parseInt(e.substr(i,8),2));return new Uint8Array(t)}function r(e){for(var t=[],o=0;o<e.length;o++){var s=e[o].data;"object"==typeof s&&(s=r(s)),"number"==typeof s&&(s=a(s.toString(2))),"string"==typeof s&&(s=i(s));var l=s.size||s.byteLength||s.length,u=Math.ceil(Math.ceil(Math.log(l)/Math.log(2))/8),c=l.toString(2),d=new Array(7*u+7+1-c.length).join("0")+c,p=new Array(u).join("0")+"1"+d;t.push(n(e[o].id)),t.push(a(p)),t.push(s)}return new Blob(t,{type:"video/webm"})}function o(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";var n=[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame;return n}function s(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("*"),i=0,a=[];4>i;i++)a[i]=t.charCodeAt(n+3+i);var r,o,s;return s=a[1]<<8|a[0],r=16383&s,s=a[3]<<8|a[2],o=16383&s,{width:r,height:o,data:t,riff:e}}function l(e){for(var t=0,n={};t<e.length;){var i=e.substr(t,4),a=parseInt(e.substr(t+4,4).split("").map(function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t}).join(""),2),r=e.substr(t+4+4,a);t+=8+a,n[i]=n[i]||[],"RIFF"==i||"LIST"==i?n[i].push(l(r)):n[i].push(r)}return n}function u(e){return[].slice.call(new Uint8Array(new Float64Array([e]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")}function c(e){this.frames=[],this.duration=e||1,this.quality=100}return c.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},c.prototype.compile=function(){return new e(this.frames.map(function(e){var t=s(l(atob(e.image.slice(23))));return t.duration=e.duration,t}))},{Video:c,toWebM:e}})()},function(e,t,n){e.exports=function(){return new Worker(n.p+"ffmpeg.worker.js")}}]);